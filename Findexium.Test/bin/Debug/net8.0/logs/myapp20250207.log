2025-02-07 13:08:30.652 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:08:31.012 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:08:31.256 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:08:31.257 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:08:31.378 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:08:31.569 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:31.572 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.102 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.105 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:08:32.108 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:08:32.112 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:32.123 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:32.124 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.126 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.128 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:08:32.128 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:08:32.128 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.128 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.128 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:32.135 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:32.135 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.135 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.136 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.136 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.136 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:08:32.136 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:08:32.136 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:32.137 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:32.137 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.137 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.137 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:08:32.137 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:08:32.137 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.137 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.137 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:32.137 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:32.137 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.137 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.142 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:32.142 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:32.142 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.143 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.143 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:08:32.148 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:08:32.149 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:32.149 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.149 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.154 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:08:32.154 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:08:32.193 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:08:32.209 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:08:32.238 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:08:32.310 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:08:32.325 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:32.325 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:32.325 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.325 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.325 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:32.328 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:32.329 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:32.329 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.329 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.329 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:08:32.330 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:08:32.331 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:32.331 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:32.331 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.331 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.331 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:32.333 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:32.333 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:32.333 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.333 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.333 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:08:32.334 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:08:32.334 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:32.334 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:32.334 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.334 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.334 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:32.335 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:32.335 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:32.335 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.335 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:32.336 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:08:32.336 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:08:32.336 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:08:32.439 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:08:32.485 +01:00 [DBG] Hosting starting
2025-02-07 13:08:32.506 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:08:32.535 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:08:32.546 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:08:32.580 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:08:32.592 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:08:32.592 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:08:32.596 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:08:32.597 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:08:32.597 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:08:32.598 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:08:32.599 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:08:32.599 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:08:32.600 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:08:32.600 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:08:32.673 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:08:32.674 +01:00 [DBG] Hosting started
2025-02-07 13:08:33.142 +01:00 [DBG] Hosting stopping
2025-02-07 13:08:33.142 +01:00 [DBG] Hosting stopping
2025-02-07 13:08:33.142 +01:00 [DBG] Hosting stopped
2025-02-07 13:08:33.142 +01:00 [DBG] Hosting stopped
2025-02-07 13:08:40.870 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:08:40.929 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:08:41.098 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:08:41.099 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:08:41.204 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:08:41.217 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.220 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.328 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.332 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:08:41.335 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:08:41.339 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:41.350 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:41.351 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.353 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.354 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:08:41.354 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:08:41.354 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.354 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.355 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:41.361 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:41.361 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.361 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.362 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.362 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.362 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:08:41.362 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:08:41.362 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:41.362 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:08:41.362 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.362 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.362 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:08:41.363 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:08:41.363 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.363 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.363 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:41.363 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:08:41.363 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.363 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.368 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:41.368 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:41.368 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.368 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.368 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:08:41.373 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:08:41.374 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:41.374 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.374 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.379 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:08:41.379 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:08:41.386 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:08:41.394 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:08:41.406 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:08:41.465 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:08:41.477 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:41.481 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-02-07 13:08:41.481 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.481 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.481 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:41.484 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:41.485 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:41.485 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.485 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.486 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:08:41.487 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:08:41.487 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:41.487 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:41.487 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.487 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.487 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:41.489 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:41.489 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:41.489 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.489 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.489 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:08:41.490 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:08:41.490 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:41.490 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:41.490 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.490 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.490 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:41.492 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:08:41.492 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:41.492 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.492 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.492 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:08:41.493 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:08:41.493 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:08:41.506 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:08:41.528 +01:00 [DBG] Hosting starting
2025-02-07 13:08:41.539 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:08:41.539 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:08:41.540 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:08:41.541 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:08:41.543 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:08:41.543 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:08:41.545 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:08:41.546 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:08:41.547 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:08:41.547 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:08:41.548 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:08:41.549 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:08:41.549 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:08:41.550 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:08:41.561 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:08:41.561 +01:00 [DBG] Hosting started
2025-02-07 13:08:41.730 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:08:41.734 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:08:41.757 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:08:41.765 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:08:41.765 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:08:41.767 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.768 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.769 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:08:41.780 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:08:41.797 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:08:41.818 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:08:41.819 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.819 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:08:41.821 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:08:42.493 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/trade/validate - application/json; charset=utf-8 45
2025-02-07 13:08:42.498 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:08:42.524 +01:00 [DBG] No candidates found for the request path '/trade/validate'
2025-02-07 13:08:42.524 +01:00 [DBG] Request did not match any endpoints
2025-02-07 13:08:42.530 +01:00 [DBG] POST requests are not supported
2025-02-07 13:08:42.534 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:08:42.535 +01:00 [DBG] POST requests are not supported
2025-02-07 13:08:42.535 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:08:42.538 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/trade/validate - 404 null null 46.2983ms
2025-02-07 13:08:42.539 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/trade/validate, Response status code: 404
2025-02-07 13:08:42.567 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:08:42.653 +01:00 [DBG] Hosting stopping
2025-02-07 13:08:42.654 +01:00 [DBG] Hosting stopping
2025-02-07 13:08:42.654 +01:00 [DBG] Hosting stopped
2025-02-07 13:08:42.654 +01:00 [DBG] Hosting stopped
2025-02-07 13:11:06.174 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:11:06.233 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:11:06.399 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:11:06.399 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:11:06.503 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:11:06.515 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.517 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.628 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.632 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:11:06.635 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:11:06.640 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:11:06.650 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:11:06.651 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.653 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.654 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:11:06.655 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:11:06.655 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.655 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.655 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:11:06.662 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:11:06.662 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.662 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.662 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.662 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.662 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:11:06.662 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:11:06.662 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:11:06.663 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:11:06.663 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.663 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.663 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:11:06.663 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:11:06.663 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.663 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.663 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:11:06.663 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:11:06.663 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.663 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.669 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:11:06.669 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:11:06.669 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.669 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.669 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:11:06.673 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:11:06.674 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:11:06.674 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.674 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.679 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:11:06.679 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:11:06.686 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:11:06.694 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:11:06.706 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:11:06.759 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:11:06.771 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:11:06.774 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:11:06.774 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.775 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.775 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:11:06.777 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:11:06.778 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:11:06.778 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.778 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.779 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:11:06.780 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:11:06.780 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:11:06.780 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:11:06.780 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.780 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.780 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:11:06.782 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:11:06.782 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:11:06.782 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.782 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.782 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:11:06.783 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:11:06.783 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:11:06.783 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:11:06.783 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.783 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.783 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:11:06.784 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:11:06.784 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:11:06.784 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.784 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.785 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:11:06.785 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:11:06.785 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:11:06.798 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:11:06.818 +01:00 [DBG] Hosting starting
2025-02-07 13:11:06.829 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:11:06.829 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:11:06.830 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:11:06.831 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:11:06.832 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:11:06.832 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:11:06.835 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:11:06.836 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:11:06.836 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:11:06.837 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:11:06.838 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:11:06.838 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:11:06.839 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:11:06.839 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:11:06.850 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:11:06.850 +01:00 [DBG] Hosting started
2025-02-07 13:11:06.930 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:11:06.935 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:11:06.959 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:11:06.966 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:11:06.966 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:11:06.968 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.969 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:06.970 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:11:06.982 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:11:06.998 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:11:07.018 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:11:07.019 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:07.019 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:11:07.021 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:11:07.053 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/trade/validate - application/json; charset=utf-8 45
2025-02-07 13:11:07.057 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:11:07.074 +01:00 [DBG] No candidates found for the request path '/trade/validate'
2025-02-07 13:11:07.074 +01:00 [DBG] Request did not match any endpoints
2025-02-07 13:11:07.080 +01:00 [DBG] POST requests are not supported
2025-02-07 13:11:07.083 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:11:07.084 +01:00 [DBG] POST requests are not supported
2025-02-07 13:11:07.084 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:11:07.087 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/trade/validate - 404 null null 35.4754ms
2025-02-07 13:11:07.088 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/trade/validate, Response status code: 404
2025-02-07 13:11:07.091 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:11:07.102 +01:00 [DBG] Hosting stopping
2025-02-07 13:11:07.102 +01:00 [DBG] Hosting stopping
2025-02-07 13:11:07.102 +01:00 [DBG] Hosting stopped
2025-02-07 13:11:07.102 +01:00 [DBG] Hosting stopped
2025-02-07 13:39:44.796 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:39:44.855 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:39:45.023 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:39:45.024 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:39:45.122 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:39:45.133 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.136 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.238 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.241 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:39:45.244 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:39:45.248 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:39:45.259 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:39:45.260 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.262 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.263 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:39:45.263 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:39:45.263 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.264 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.264 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:39:45.270 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:39:45.270 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.270 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.270 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.271 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.271 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:39:45.271 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:39:45.271 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:39:45.271 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:39:45.271 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.271 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.271 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:39:45.271 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:39:45.271 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.271 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.271 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:39:45.271 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:39:45.272 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.272 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.277 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:39:45.277 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:39:45.277 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.277 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.277 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:39:45.281 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:39:45.282 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:39:45.282 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.282 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.287 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:39:45.287 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:39:45.294 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:39:45.301 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:39:45.312 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:39:45.365 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:39:45.376 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:39:45.380 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:39:45.380 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.380 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.380 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:39:45.383 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:39:45.384 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:39:45.384 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.384 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.384 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:39:45.385 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:39:45.385 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:39:45.385 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:39:45.385 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.385 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.385 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:39:45.387 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:39:45.387 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:39:45.387 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.387 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.387 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:39:45.388 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:39:45.388 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:39:45.388 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:39:45.388 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.388 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.388 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:39:45.389 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:39:45.389 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:39:45.389 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.389 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.390 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:39:45.390 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:39:45.390 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:39:45.403 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:39:45.422 +01:00 [DBG] Hosting starting
2025-02-07 13:39:45.433 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:39:45.433 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:39:45.434 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:39:45.435 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:39:45.436 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:39:45.436 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:39:45.439 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:39:45.440 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:39:45.440 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:39:45.441 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:39:45.442 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:39:45.442 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:39:45.443 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:39:45.443 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:39:45.453 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:39:45.453 +01:00 [DBG] Hosting started
2025-02-07 13:39:45.533 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:39:45.537 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:39:45.560 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:39:45.567 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:39:45.567 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:39:45.569 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.570 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.571 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:39:45.582 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:39:45.598 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:39:45.618 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:39:45.619 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.619 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:39:45.621 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:39:45.651 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/validate - application/json; charset=utf-8 45
2025-02-07 13:39:45.655 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:39:45.665 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/validate'
2025-02-07 13:39:45.665 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)' with route pattern 'api/Trade/validate' is valid for the request path '/api/trade/validate'
2025-02-07 13:39:45.666 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:39:45.671 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:39:45.675 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:39:45.830 +01:00 [DBG] Successfully validated the token.
2025-02-07 13:39:45.831 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 13:39:45.832 +01:00 [DBG] Authorization was successful.
2025-02-07 13:39:45.833 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:39:45.833 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:39:45.833 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:39:45.881 +01:00 [INF] Route matched with {action = "Validate", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(Dot.Net.WebApi.Domain.Trade) on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 13:39:45.881 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 13:39:45.882 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 13:39:45.882 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 13:39:45.882 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 13:39:45.882 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 13:39:45.883 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:39:45.883 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:39:45.911 +01:00 [DBG] Attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' ...
2025-02-07 13:39:45.912 +01:00 [DBG] Attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' using the name '' in request data ...
2025-02-07 13:39:45.913 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-02-07 13:39:45.934 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'Dot.Net.WebApi.Domain.Trade'
2025-02-07 13:39:45.934 +01:00 [DBG] Done attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:39:45.934 +01:00 [DBG] Done attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:39:45.934 +01:00 [DBG] Attempting to validate the bound parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' ...
2025-02-07 13:39:45.948 +01:00 [DBG] Done attempting to validate the bound parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:39:45.948 +01:00 [DBG] The request has model state errors, returning an error response.
2025-02-07 13:39:45.949 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-02-07 13:39:45.950 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 13:39:45.950 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 13:39:45.950 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-02-07 13:39:45.951 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-02-07 13:39:45.951 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-07 13:39:45.982 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi) in 98.8772ms
2025-02-07 13:39:45.983 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:39:45.985 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/validate - 400 null application/problem+json; charset=utf-8 334.5451ms
2025-02-07 13:39:46.004 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:39:46.014 +01:00 [DBG] Hosting stopping
2025-02-07 13:39:46.014 +01:00 [DBG] Hosting stopping
2025-02-07 13:39:46.014 +01:00 [DBG] Hosting stopped
2025-02-07 13:39:46.014 +01:00 [DBG] Hosting stopped
2025-02-07 13:40:05.972 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:40:06.029 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:40:06.194 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:40:06.195 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:40:06.293 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:06.305 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.307 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.404 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.408 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:40:06.411 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:40:06.415 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:06.425 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:06.426 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.428 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.429 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:40:06.429 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:40:06.429 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.430 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.430 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:06.436 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:06.436 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.436 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.436 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.437 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.437 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:40:06.437 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:40:06.437 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:06.437 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:06.437 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.437 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.437 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:40:06.437 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:40:06.437 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.437 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.437 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:06.438 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:06.438 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.438 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.443 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:06.443 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:06.443 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.443 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.443 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:40:06.447 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:40:06.448 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:06.448 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.448 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.453 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:40:06.453 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:40:06.460 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:40:06.467 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:06.478 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:40:06.530 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:06.540 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:06.544 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:40:06.544 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.544 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.544 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:06.547 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:06.548 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:06.548 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.548 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.548 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:40:06.549 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:06.549 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:06.550 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:06.550 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.550 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.550 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:06.551 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:06.551 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:06.551 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.551 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.552 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:40:06.552 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:06.553 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:06.553 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:06.553 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.553 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.553 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:06.554 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:06.554 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:06.554 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.554 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.554 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:06.555 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:40:06.555 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:06.568 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:40:06.588 +01:00 [DBG] Hosting starting
2025-02-07 13:40:06.599 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:40:06.599 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:40:06.599 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:40:06.601 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:40:06.602 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:40:06.602 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:40:06.605 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:40:06.606 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:40:06.606 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:40:06.607 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:40:06.608 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:40:06.608 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:40:06.608 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:40:06.609 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:40:06.619 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:40:06.619 +01:00 [DBG] Hosting started
2025-02-07 13:40:06.697 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:06.701 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:40:06.723 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:40:06.731 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:06.731 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:06.733 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.734 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.735 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:40:06.746 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:40:06.762 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:40:06.782 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:06.783 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.783 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:06.785 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:40:06.816 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/validate - application/json; charset=utf-8 45
2025-02-07 13:40:06.820 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:40:06.829 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/validate'
2025-02-07 13:40:06.830 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)' with route pattern 'api/Trade/validate' is valid for the request path '/api/trade/validate'
2025-02-07 13:40:06.830 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:40:06.836 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:40:06.839 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:40:06.844 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 13:40:06.844 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 13:40:06.845 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 13:40:06.847 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 13:40:06.850 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/validate - 401 null null 35.2355ms
2025-02-07 13:40:06.855 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:06.865 +01:00 [DBG] Hosting stopping
2025-02-07 13:40:06.865 +01:00 [DBG] Hosting stopping
2025-02-07 13:40:06.865 +01:00 [DBG] Hosting stopped
2025-02-07 13:40:06.865 +01:00 [DBG] Hosting stopped
2025-02-07 13:40:26.279 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:40:26.336 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:40:26.498 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:40:26.499 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:40:26.598 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:26.609 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.611 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.712 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.715 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:40:26.718 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:40:26.722 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:26.733 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:26.734 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.735 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.737 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:40:26.737 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:40:26.737 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.737 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.737 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:26.744 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:26.744 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.744 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.744 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.744 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.744 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:40:26.744 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:40:26.744 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:26.745 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:26.745 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.745 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.745 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:40:26.745 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:40:26.745 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.745 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.745 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:26.745 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:26.745 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.745 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.751 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:26.751 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:26.751 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.751 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.751 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:40:26.755 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:40:26.756 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:26.756 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.756 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.761 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:40:26.761 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:40:26.768 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:40:26.776 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:26.787 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:40:26.839 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:26.850 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:26.854 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:40:26.854 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.854 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.854 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:26.856 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:26.857 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:26.857 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.857 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.857 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:40:26.858 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:26.859 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:26.859 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:26.859 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.859 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.859 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:26.860 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:26.860 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:26.860 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.860 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.861 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:40:26.861 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:26.861 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:26.861 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:26.861 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.861 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.861 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:26.862 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:26.863 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:26.863 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.863 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:26.863 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:26.864 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:40:26.864 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:26.876 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:40:26.896 +01:00 [DBG] Hosting starting
2025-02-07 13:40:26.907 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:40:26.907 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:40:26.907 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:40:26.909 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:40:26.910 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:40:26.910 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:40:26.913 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:40:26.914 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:40:26.914 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:40:26.915 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:40:26.916 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:40:26.916 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:40:26.917 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:40:26.917 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:40:26.927 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:40:26.927 +01:00 [DBG] Hosting started
2025-02-07 13:40:27.006 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:27.010 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:40:27.032 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:40:27.040 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:27.040 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:27.042 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:27.043 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:27.044 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:40:27.054 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:40:27.070 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:40:27.091 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:27.091 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:27.092 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:27.093 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:40:27.124 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/validate - application/json; charset=utf-8 45
2025-02-07 13:40:27.128 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:40:27.138 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/validate'
2025-02-07 13:40:27.138 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)' with route pattern 'api/Trade/validate' is valid for the request path '/api/trade/validate'
2025-02-07 13:40:27.138 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:40:27.144 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:40:27.148 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:40:27.153 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 13:40:27.153 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 13:40:27.154 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 13:40:27.156 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 13:40:27.159 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/validate - 401 null null 35.6876ms
2025-02-07 13:40:27.163 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:27.173 +01:00 [DBG] Hosting stopping
2025-02-07 13:40:27.174 +01:00 [DBG] Hosting stopping
2025-02-07 13:40:27.174 +01:00 [DBG] Hosting stopped
2025-02-07 13:40:27.174 +01:00 [DBG] Hosting stopped
2025-02-07 13:40:40.517 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:40:40.576 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:40:40.741 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:40:40.741 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:40:40.843 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:40.854 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.856 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.956 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.959 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:40:40.962 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:40:40.966 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:40.977 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:40.978 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.979 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.981 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:40:40.981 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:40:40.981 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.981 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.981 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:40.988 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:40.988 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.988 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.988 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.988 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.989 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:40:40.989 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:40:40.989 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:40.989 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:40:40.989 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.989 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.989 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:40:40.989 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:40:40.989 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.989 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.989 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:40.990 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:40:40.990 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.990 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.995 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:40.995 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:40.995 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.995 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:40.995 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:40:40.999 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:40:41.000 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:41.000 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.000 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.005 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:40:41.005 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:40:41.012 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:40:41.019 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:41.031 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:40:41.082 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:41.093 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:41.097 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:40:41.097 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.097 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.097 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:41.099 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:41.100 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:41.100 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.100 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.101 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:40:41.102 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:41.102 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:41.102 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:41.102 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.102 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.102 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:41.103 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:41.103 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:41.103 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.103 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.104 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:40:41.104 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:40:41.105 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:41.105 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:41.105 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.105 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.105 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:41.106 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:40:41.106 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:41.106 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.106 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.106 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:41.107 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:40:41.107 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:41.119 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:40:41.139 +01:00 [DBG] Hosting starting
2025-02-07 13:40:41.149 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:40:41.150 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:40:41.150 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:40:41.152 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:40:41.153 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:40:41.153 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:40:41.155 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:40:41.157 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:40:41.157 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:40:41.157 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:40:41.158 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:40:41.159 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:40:41.159 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:40:41.159 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:40:41.169 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:40:41.170 +01:00 [DBG] Hosting started
2025-02-07 13:40:41.248 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:40:41.252 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:40:41.275 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:40:41.282 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:40:41.282 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:40:41.284 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.285 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.286 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:40:41.297 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:40:41.313 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:40:41.334 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:40:41.335 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.335 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:40:41.337 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:40:41.369 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/validate - application/json; charset=utf-8 45
2025-02-07 13:40:41.373 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:40:41.383 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/validate'
2025-02-07 13:40:41.383 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)' with route pattern 'api/Trade/validate' is valid for the request path '/api/trade/validate'
2025-02-07 13:40:41.383 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:40:41.389 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:40:41.393 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:40:41.415 +01:00 [DBG] Successfully validated the token.
2025-02-07 13:40:41.416 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 13:40:41.418 +01:00 [DBG] Authorization was successful.
2025-02-07 13:40:41.418 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:40:41.418 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:40:41.418 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:40:41.428 +01:00 [INF] Route matched with {action = "Validate", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(Dot.Net.WebApi.Domain.Trade) on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 13:40:41.429 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 13:40:41.429 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 13:40:41.429 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 13:40:41.429 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 13:40:41.429 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 13:40:41.430 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:40:41.430 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:40:41.432 +01:00 [DBG] Attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' ...
2025-02-07 13:40:41.433 +01:00 [DBG] Attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' using the name '' in request data ...
2025-02-07 13:40:41.434 +01:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json; charset=utf-8'.
2025-02-07 13:40:41.455 +01:00 [DBG] JSON input formatter succeeded, deserializing to type 'Dot.Net.WebApi.Domain.Trade'
2025-02-07 13:40:41.455 +01:00 [DBG] Done attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:40:41.455 +01:00 [DBG] Done attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:40:41.455 +01:00 [DBG] Attempting to validate the bound parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' ...
2025-02-07 13:40:41.462 +01:00 [DBG] Done attempting to validate the bound parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:40:41.462 +01:00 [DBG] The request has model state errors, returning an error response.
2025-02-07 13:40:41.463 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2025-02-07 13:40:41.464 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 13:40:41.464 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 13:40:41.464 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-02-07 13:40:41.465 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-02-07 13:40:41.465 +01:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-02-07 13:40:41.484 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi) in 52.8614ms
2025-02-07 13:40:41.484 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:40:41.486 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/validate - 400 null application/problem+json; charset=utf-8 118.6935ms
2025-02-07 13:40:41.489 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:40:41.499 +01:00 [DBG] Hosting stopping
2025-02-07 13:40:41.499 +01:00 [DBG] Hosting stopping
2025-02-07 13:40:41.500 +01:00 [DBG] Hosting stopped
2025-02-07 13:40:41.500 +01:00 [DBG] Hosting stopped
2025-02-07 13:48:52.260 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:48:52.318 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:48:52.488 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:48:52.489 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:48:52.590 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:48:52.601 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.604 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.706 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.710 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:48:52.713 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:48:52.717 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:48:52.727 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:48:52.728 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.730 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.731 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:48:52.731 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:48:52.732 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.732 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.732 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:48:52.738 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:48:52.738 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.739 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.739 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.739 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.739 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:48:52.739 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:48:52.739 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:48:52.739 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:48:52.740 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.740 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.740 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:48:52.740 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:48:52.740 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.740 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.740 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:48:52.740 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:48:52.740 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.740 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.745 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:48:52.745 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:48:52.745 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.745 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.745 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:48:52.749 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:48:52.750 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:48:52.750 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.750 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.755 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:48:52.755 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:48:52.762 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:48:52.770 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:48:52.781 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:48:52.833 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:48:52.844 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:48:52.847 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:48:52.847 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.847 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.847 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:48:52.850 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:48:52.851 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:48:52.851 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.851 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.851 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:48:52.852 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:48:52.852 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:48:52.852 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:48:52.853 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.853 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.853 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:48:52.854 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:48:52.854 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:48:52.854 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.854 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.855 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:48:52.855 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:48:52.855 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:48:52.855 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:48:52.855 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.855 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.855 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:48:52.856 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:48:52.857 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:48:52.857 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.857 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:52.857 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:48:52.858 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:48:52.858 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:48:52.870 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:48:52.891 +01:00 [DBG] Hosting starting
2025-02-07 13:48:52.902 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:48:52.903 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:48:52.903 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:48:52.905 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:48:52.906 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:48:52.906 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:48:52.909 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:48:52.910 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:48:52.910 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:48:52.911 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:48:52.912 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:48:52.912 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:48:52.912 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:48:52.913 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:48:52.924 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:48:52.924 +01:00 [DBG] Hosting started
2025-02-07 13:48:53.004 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:48:53.008 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:48:53.032 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:48:53.039 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:48:53.039 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:48:53.041 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:53.042 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:53.043 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:48:53.054 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:48:53.070 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:48:53.091 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:48:53.091 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:53.092 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:48:53.093 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:48:53.124 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/list - application/json; charset=utf-8 45
2025-02-07 13:48:53.128 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:48:53.138 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 13:48:53.138 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:48:53.144 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:48:53.148 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:48:53.148 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:48:53.149 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:48:53.149 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:48:53.149 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:48:53.152 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/list - 405 null null 28.386ms
2025-02-07 13:48:53.157 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:48:53.167 +01:00 [DBG] Hosting stopping
2025-02-07 13:48:53.167 +01:00 [DBG] Hosting stopping
2025-02-07 13:48:53.167 +01:00 [DBG] Hosting stopped
2025-02-07 13:48:53.167 +01:00 [DBG] Hosting stopped
2025-02-07 13:49:26.213 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:49:26.271 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:49:26.440 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:49:26.441 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:49:26.541 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:49:26.552 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.555 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.658 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.661 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:49:26.664 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:49:26.668 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:49:26.679 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:49:26.680 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.681 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.683 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:49:26.683 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:49:26.683 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.683 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.683 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:49:26.690 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:49:26.690 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.690 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.690 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.690 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.690 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:49:26.691 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:49:26.691 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:49:26.691 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:49:26.691 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.691 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.691 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:49:26.691 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:49:26.691 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.691 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.691 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:49:26.692 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:49:26.692 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.692 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.697 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:49:26.697 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:49:26.697 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.697 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.697 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:49:26.701 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:49:26.702 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:49:26.702 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.702 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.707 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:49:26.707 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:49:26.714 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:49:26.721 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:49:26.733 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:49:26.783 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:49:26.794 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:49:26.798 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:49:26.798 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.798 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.798 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:49:26.800 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:49:26.801 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:49:26.801 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.801 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.802 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:49:26.803 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:49:26.803 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:49:26.803 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:49:26.803 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.803 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.803 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:49:26.804 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:49:26.804 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:49:26.805 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.805 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.805 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:49:26.805 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:49:26.806 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:49:26.806 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:49:26.806 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.806 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.806 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:49:26.807 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:49:26.807 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:49:26.807 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.807 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.807 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:49:26.808 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:49:26.808 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:49:26.820 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:49:26.840 +01:00 [DBG] Hosting starting
2025-02-07 13:49:26.850 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:49:26.851 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:49:26.851 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:49:26.853 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:49:26.854 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:49:26.854 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:49:26.856 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:49:26.857 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:49:26.857 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:49:26.858 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:49:26.859 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:49:26.859 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:49:26.860 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:49:26.860 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:49:26.871 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:49:26.871 +01:00 [DBG] Hosting started
2025-02-07 13:49:26.950 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:49:26.954 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:49:26.976 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:49:26.983 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:49:26.983 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:49:26.986 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.987 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:26.988 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:49:26.999 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:49:27.015 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:49:27.035 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:49:27.036 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:27.036 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:49:27.038 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:49:27.067 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/list - null null
2025-02-07 13:49:27.068 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:49:27.077 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 13:49:27.077 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:49:27.083 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:49:27.086 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:49:27.087 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:49:27.087 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:49:27.088 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:49:27.088 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:49:27.091 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/list - 405 null null 24.8365ms
2025-02-07 13:49:27.096 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:49:27.106 +01:00 [DBG] Hosting stopping
2025-02-07 13:49:27.106 +01:00 [DBG] Hosting stopping
2025-02-07 13:49:27.107 +01:00 [DBG] Hosting stopped
2025-02-07 13:49:27.107 +01:00 [DBG] Hosting stopped
2025-02-07 13:50:57.794 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:50:57.853 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:50:58.016 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:50:58.017 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:50:58.115 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:50:58.126 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.128 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.233 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.237 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:50:58.240 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:50:58.244 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:50:58.254 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:50:58.255 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.257 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.258 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:50:58.258 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:50:58.258 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.259 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.259 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:50:58.265 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:50:58.265 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.265 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.266 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.266 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.266 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:50:58.266 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:50:58.266 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:50:58.266 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:50:58.266 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.266 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.266 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:50:58.266 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:50:58.266 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.267 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.267 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:50:58.267 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:50:58.267 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.267 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.272 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:50:58.272 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:50:58.272 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.272 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.272 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:50:58.277 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:50:58.278 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:50:58.278 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.278 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.283 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:50:58.283 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:50:58.289 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:50:58.297 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:50:58.308 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:50:58.360 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:50:58.371 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:50:58.375 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:50:58.375 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.375 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.375 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:50:58.378 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:50:58.379 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:50:58.379 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.379 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.379 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:50:58.380 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:50:58.380 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:50:58.380 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:50:58.380 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.380 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.380 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:50:58.382 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:50:58.382 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:50:58.382 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.382 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.382 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:50:58.383 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:50:58.383 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:50:58.383 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:50:58.383 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.383 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.383 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:50:58.384 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:50:58.384 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:50:58.384 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.384 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.385 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:50:58.385 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:50:58.385 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:50:58.398 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:50:58.418 +01:00 [DBG] Hosting starting
2025-02-07 13:50:58.428 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:50:58.429 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:50:58.429 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:50:58.430 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:50:58.431 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:50:58.432 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:50:58.434 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:50:58.435 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:50:58.435 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:50:58.436 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:50:58.437 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:50:58.437 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:50:58.438 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:50:58.438 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:50:58.448 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:50:58.448 +01:00 [DBG] Hosting started
2025-02-07 13:50:58.527 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:50:58.531 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:50:58.554 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:50:58.561 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:50:58.562 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:50:58.564 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.565 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.566 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:50:58.577 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:50:58.593 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:50:58.613 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:50:58.614 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.614 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:50:58.616 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:50:58.645 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/Home - null null
2025-02-07 13:50:58.646 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:50:58.656 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/Home'
2025-02-07 13:50:58.656 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:50:58.661 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:50:58.665 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:50:58.666 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:50:58.666 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:50:58.666 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:50:58.666 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:50:58.669 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/Home - 405 null null 24.8306ms
2025-02-07 13:50:58.675 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:50:58.685 +01:00 [DBG] Hosting stopping
2025-02-07 13:50:58.685 +01:00 [DBG] Hosting stopping
2025-02-07 13:50:58.685 +01:00 [DBG] Hosting stopped
2025-02-07 13:50:58.685 +01:00 [DBG] Hosting stopped
2025-02-07 13:51:21.765 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:51:21.821 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:51:21.985 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:51:21.985 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:51:22.085 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:51:22.096 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.098 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.200 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.204 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:51:22.207 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:51:22.212 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:51:22.222 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:51:22.223 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.225 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.226 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:51:22.226 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:51:22.226 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.227 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.227 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:51:22.233 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:51:22.233 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.233 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:51:22.234 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:51:22.234 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:51:22.234 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:51:22.234 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:51:22.234 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:51:22.234 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.234 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:51:22.235 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:51:22.235 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.235 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.240 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:51:22.240 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:51:22.240 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.240 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.240 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:51:22.244 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:51:22.245 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:51:22.245 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.245 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.250 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:51:22.250 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:51:22.257 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:51:22.264 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:51:22.276 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:51:22.327 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:51:22.338 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:51:22.342 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:51:22.342 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.342 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.342 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:51:22.345 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:51:22.345 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:51:22.345 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.345 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.346 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:51:22.347 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:51:22.347 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:51:22.347 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:51:22.347 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.347 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.347 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:51:22.349 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:51:22.349 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:51:22.349 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.349 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.349 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:51:22.350 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:51:22.350 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:51:22.350 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:51:22.350 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.350 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.350 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:51:22.351 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:51:22.351 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:51:22.351 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.351 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.352 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:51:22.352 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:51:22.352 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:51:22.365 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:51:22.385 +01:00 [DBG] Hosting starting
2025-02-07 13:51:22.396 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:51:22.396 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:51:22.396 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:51:22.398 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:51:22.399 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:51:22.399 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:51:22.402 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:51:22.403 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:51:22.403 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:51:22.403 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:51:22.404 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:51:22.405 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:51:22.405 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:51:22.406 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:51:22.416 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:51:22.416 +01:00 [DBG] Hosting started
2025-02-07 13:51:22.494 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:51:22.497 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:51:22.520 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:51:22.527 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:51:22.527 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:51:22.529 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.530 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.531 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:51:22.542 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:51:22.558 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:51:22.579 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:51:22.580 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.580 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:51:22.582 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:51:22.612 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/Home1 - null null
2025-02-07 13:51:22.613 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:51:22.623 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/Home1'
2025-02-07 13:51:22.623 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:51:22.629 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:51:22.632 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:51:22.633 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:51:22.633 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:51:22.633 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:51:22.633 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:51:22.636 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/Home1 - 405 null null 25.362ms
2025-02-07 13:51:22.642 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:51:22.652 +01:00 [DBG] Hosting stopping
2025-02-07 13:51:22.653 +01:00 [DBG] Hosting stopping
2025-02-07 13:51:22.653 +01:00 [DBG] Hosting stopped
2025-02-07 13:51:22.653 +01:00 [DBG] Hosting stopped
2025-02-07 13:52:00.042 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:52:00.101 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:52:00.264 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:52:00.265 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:52:00.362 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:00.373 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.375 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.478 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.481 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:52:00.484 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:52:00.488 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:00.499 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:00.499 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.501 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.503 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:52:00.503 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:52:00.503 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.503 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.503 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:00.509 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:00.510 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.510 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.510 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.510 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.510 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:52:00.510 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:52:00.510 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:00.511 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:00.511 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.511 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.511 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:52:00.511 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:52:00.511 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.511 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.511 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:00.511 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:00.511 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.511 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.516 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:00.516 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:00.516 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.516 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.517 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:52:00.521 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:52:00.522 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:00.522 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.522 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.527 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:52:00.527 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:52:00.534 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:52:00.542 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:00.553 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:52:00.606 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:00.618 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:00.621 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:52:00.621 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.621 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.621 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:00.624 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:00.625 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:00.625 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.625 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.625 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:52:00.626 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:00.626 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:00.626 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:00.626 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.626 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.626 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:00.628 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:00.628 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:00.628 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.628 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.628 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:52:00.629 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:00.629 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:00.629 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:00.629 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.629 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.629 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:00.630 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:00.630 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:00.630 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.630 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.631 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:00.631 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:52:00.631 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:00.644 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:52:00.664 +01:00 [DBG] Hosting starting
2025-02-07 13:52:00.674 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:52:00.674 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:52:00.675 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:52:00.676 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:52:00.677 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:52:00.677 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:52:00.680 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:52:00.681 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:52:00.681 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:52:00.682 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:52:00.683 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:52:00.683 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:52:00.684 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:52:00.684 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:52:00.694 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:52:00.694 +01:00 [DBG] Hosting started
2025-02-07 13:52:00.774 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:00.777 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:52:00.800 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:52:00.807 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:00.807 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:00.809 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.810 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.811 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:52:00.822 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:52:00.839 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:52:00.859 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:00.860 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.860 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:00.862 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:52:00.891 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/validate - null null
2025-02-07 13:52:00.892 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:52:00.902 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/validate'
2025-02-07 13:52:00.902 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)' with route pattern 'api/Trade/validate' is valid for the request path '/api/trade/validate'
2025-02-07 13:52:00.902 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:52:00.908 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:52:00.912 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:52:00.934 +01:00 [DBG] Successfully validated the token.
2025-02-07 13:52:00.935 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 13:52:00.937 +01:00 [DBG] Authorization was successful.
2025-02-07 13:52:00.937 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:52:00.937 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:52:00.937 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:52:00.947 +01:00 [INF] Route matched with {action = "Validate", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Validate(Dot.Net.WebApi.Domain.Trade) on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 13:52:00.948 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 13:52:00.948 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 13:52:00.948 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 13:52:00.948 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 13:52:00.948 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 13:52:00.949 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:52:00.949 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:52:00.951 +01:00 [DBG] Attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' ...
2025-02-07 13:52:00.952 +01:00 [DBG] Attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' using the name '' in request data ...
2025-02-07 13:52:00.952 +01:00 [DBG] Rejected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'null'.
2025-02-07 13:52:00.952 +01:00 [DBG] No input formatter was found to support the content type 'null' for use with the [FromBody] attribute.
2025-02-07 13:52:00.953 +01:00 [DBG] Done attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:52:00.953 +01:00 [DBG] Done attempting to bind parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:52:00.953 +01:00 [DBG] Attempting to validate the bound parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade' ...
2025-02-07 13:52:00.955 +01:00 [DBG] Done attempting to validate the bound parameter 'trade' of type 'Dot.Net.WebApi.Domain.Trade'.
2025-02-07 13:52:00.956 +01:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter'.
2025-02-07 13:52:00.957 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 13:52:00.957 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 13:52:00.957 +01:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2025-02-07 13:52:00.958 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-02-07 13:52:00.958 +01:00 [INF] Executing ObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ProblemDetails'.
2025-02-07 13:52:00.985 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi) in 34.8255ms
2025-02-07 13:52:00.985 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Validate (P7CreateRestApi)'
2025-02-07 13:52:00.987 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/validate - 415 null application/problem+json; charset=utf-8 96.8774ms
2025-02-07 13:52:00.990 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:01.000 +01:00 [DBG] Hosting stopping
2025-02-07 13:52:01.001 +01:00 [DBG] Hosting stopping
2025-02-07 13:52:01.001 +01:00 [DBG] Hosting stopped
2025-02-07 13:52:01.001 +01:00 [DBG] Hosting stopped
2025-02-07 13:52:11.528 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:52:11.585 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:52:11.749 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:52:11.750 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:52:11.849 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:11.859 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.862 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.963 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.967 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:52:11.970 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:52:11.974 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:11.985 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:11.985 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.987 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.988 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:52:11.988 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:52:11.989 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.989 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.989 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:11.995 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:11.995 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.995 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:52:11.996 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:52:11.996 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:11.996 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:11.996 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:52:11.996 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:52:11.996 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.996 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:11.997 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:11.997 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:11.997 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.002 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:12.002 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:12.002 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.002 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.002 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:52:12.006 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:52:12.007 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:12.007 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.007 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.012 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:52:12.012 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:52:12.019 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:52:12.026 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:12.037 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:52:12.088 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:12.098 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:12.102 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:52:12.102 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.102 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.102 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:12.104 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:12.105 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:12.105 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.105 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.105 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:52:12.106 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:12.106 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:12.107 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:12.107 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.107 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.107 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:12.108 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:12.108 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:12.108 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.108 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.108 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:52:12.109 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:12.109 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:12.109 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:12.109 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.109 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.109 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:12.110 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:12.110 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:12.110 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.110 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.111 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:12.111 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:52:12.111 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:12.123 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:52:12.144 +01:00 [DBG] Hosting starting
2025-02-07 13:52:12.155 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:52:12.155 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:52:12.156 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:52:12.157 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:52:12.158 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:52:12.158 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:52:12.161 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:52:12.162 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:52:12.162 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:52:12.163 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:52:12.164 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:52:12.164 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:52:12.165 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:52:12.165 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:52:12.175 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:52:12.175 +01:00 [DBG] Hosting started
2025-02-07 13:52:12.254 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:12.258 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:52:12.280 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:52:12.288 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:12.288 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:12.290 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.291 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.292 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:52:12.302 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:52:12.318 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:52:12.339 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:12.340 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.340 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:12.342 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:52:12.372 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/validateeeee - null null
2025-02-07 13:52:12.373 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:52:12.382 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/validateeeee'
2025-02-07 13:52:12.382 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:52:12.388 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:52:12.392 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:52:12.392 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:52:12.393 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:52:12.393 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:52:12.393 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:52:12.396 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/validateeeee - 405 null null 25.394ms
2025-02-07 13:52:12.401 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:12.412 +01:00 [DBG] Hosting stopping
2025-02-07 13:52:12.412 +01:00 [DBG] Hosting stopping
2025-02-07 13:52:12.412 +01:00 [DBG] Hosting stopped
2025-02-07 13:52:12.412 +01:00 [DBG] Hosting stopped
2025-02-07 13:52:48.237 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:52:48.295 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:52:48.457 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:52:48.458 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:52:48.556 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:48.567 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.569 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.678 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.681 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:52:48.684 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:52:48.689 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:48.699 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:48.700 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.702 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.704 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:52:48.704 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:52:48.704 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.704 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.705 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:48.712 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:48.712 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.712 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.712 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.712 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.712 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:52:48.712 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:52:48.712 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:48.713 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:52:48.713 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.713 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.713 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:52:48.713 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:52:48.713 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.713 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.713 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:48.713 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:52:48.714 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.714 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.719 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:48.719 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:48.719 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.719 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.719 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:52:48.724 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:52:48.725 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:48.726 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.726 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.731 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:52:48.731 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:52:48.739 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:52:48.747 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:48.758 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:52:48.814 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:48.827 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:48.831 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-02-07 13:52:48.831 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.831 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.831 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:48.834 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:48.834 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:48.834 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.835 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.835 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:52:48.836 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:48.836 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:48.836 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:48.836 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.836 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.836 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:48.838 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:48.838 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:48.838 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.838 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.838 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:52:48.839 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:52:48.839 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:48.839 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:48.839 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.839 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.839 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:48.840 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:52:48.840 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:48.840 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.840 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:48.841 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:48.841 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:52:48.841 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:48.855 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:52:48.876 +01:00 [DBG] Hosting starting
2025-02-07 13:52:48.886 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:52:48.887 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:52:48.887 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:52:48.889 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:52:48.890 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:52:48.890 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:52:48.893 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:52:48.894 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:52:48.894 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:52:48.895 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:52:48.896 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:52:48.896 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:52:48.896 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:52:48.897 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:52:48.907 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:52:48.907 +01:00 [DBG] Hosting started
2025-02-07 13:52:48.986 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:52:48.990 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:52:49.013 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:52:49.020 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:52:49.020 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:52:49.022 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:49.023 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:49.024 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:52:49.035 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:52:49.052 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:52:49.072 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:52:49.073 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:49.073 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:52:49.075 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:52:49.104 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/list - null null
2025-02-07 13:52:49.105 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:52:49.115 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 13:52:49.115 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:52:49.121 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:52:49.125 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:52:49.125 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:52:49.126 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:52:49.126 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:52:49.126 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:52:49.129 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/list - 405 null null 25.5449ms
2025-02-07 13:52:49.134 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:52:49.144 +01:00 [DBG] Hosting stopping
2025-02-07 13:52:49.145 +01:00 [DBG] Hosting stopping
2025-02-07 13:52:49.145 +01:00 [DBG] Hosting stopped
2025-02-07 13:52:49.145 +01:00 [DBG] Hosting stopped
2025-02-07 13:53:19.743 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:53:19.801 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:53:19.965 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:53:19.966 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:53:20.063 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:20.074 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.076 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.182 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.185 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:53:20.188 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 13:53:20.192 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:20.203 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:20.204 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.206 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.207 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:53:20.207 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:53:20.207 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.208 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.208 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:20.214 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:20.214 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.214 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.215 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.215 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.215 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:53:20.215 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:53:20.215 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:20.215 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:20.215 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.215 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.215 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:53:20.216 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:53:20.216 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.216 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.216 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:20.216 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:20.216 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.216 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.221 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:20.221 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:20.221 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.221 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.221 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:53:20.225 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:53:20.226 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:20.226 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.227 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.231 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:53:20.231 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:53:20.238 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:53:20.246 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:20.257 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:53:20.309 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:20.320 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:20.323 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:53:20.323 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.323 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.323 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:20.326 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:20.327 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:20.327 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.327 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.327 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:53:20.328 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:20.328 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:20.328 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:20.328 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.328 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.328 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:20.330 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:20.330 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:20.330 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.330 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.330 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:53:20.331 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:20.331 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:20.331 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:20.331 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.331 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.331 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:20.332 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:20.332 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:20.332 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.332 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.333 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:20.333 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:53:20.333 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:20.346 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:53:20.366 +01:00 [DBG] Hosting starting
2025-02-07 13:53:20.376 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:53:20.377 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:53:20.377 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:53:20.378 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:53:20.380 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:53:20.380 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:53:20.382 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:53:20.383 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:53:20.383 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:53:20.384 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:53:20.385 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:53:20.385 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:53:20.386 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:53:20.386 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:53:20.397 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:53:20.397 +01:00 [DBG] Hosting started
2025-02-07 13:53:20.476 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:20.480 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:53:20.502 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:53:20.509 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:20.509 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:20.511 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.512 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.513 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:53:20.525 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:53:20.541 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:53:20.562 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:20.563 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.563 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:20.565 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:53:20.595 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/aapi/trade/list - null null
2025-02-07 13:53:20.596 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:53:20.605 +01:00 [DBG] No candidates found for the request path '/aapi/trade/list'
2025-02-07 13:53:20.605 +01:00 [DBG] Request did not match any endpoints
2025-02-07 13:53:20.611 +01:00 [DBG] POST requests are not supported
2025-02-07 13:53:20.614 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:53:20.615 +01:00 [DBG] POST requests are not supported
2025-02-07 13:53:20.615 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:53:20.618 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/aapi/trade/list - 404 null null 23.5633ms
2025-02-07 13:53:20.619 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/aapi/trade/list, Response status code: 404
2025-02-07 13:53:20.623 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:20.633 +01:00 [DBG] Hosting stopping
2025-02-07 13:53:20.633 +01:00 [DBG] Hosting stopping
2025-02-07 13:53:20.633 +01:00 [DBG] Hosting stopped
2025-02-07 13:53:20.633 +01:00 [DBG] Hosting stopped
2025-02-07 13:53:30.718 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:53:30.777 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:53:30.944 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:53:30.945 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:53:31.043 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:31.054 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.057 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.154 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.157 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:53:31.160 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:53:31.164 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:31.175 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:31.175 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.177 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.179 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:53:31.179 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:53:31.179 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.179 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.179 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:31.185 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:31.185 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.186 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.186 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.186 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.186 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:53:31.186 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:53:31.186 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:31.187 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:31.187 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.187 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.187 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:53:31.187 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:53:31.187 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.187 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.187 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:31.187 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:31.187 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.187 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.192 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:31.192 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:31.192 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.192 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.192 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:53:31.197 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:53:31.198 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:31.198 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.198 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.203 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:53:31.203 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:53:31.210 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:53:31.218 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:31.229 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:53:31.281 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:31.291 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:31.295 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:53:31.295 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.295 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.295 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:31.298 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:31.299 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:31.299 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.299 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.299 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:53:31.300 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:31.301 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:31.301 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:31.301 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.301 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.301 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:31.302 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:31.302 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:31.302 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.302 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.303 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:53:31.303 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:31.303 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:31.304 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:31.304 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.304 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.304 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:31.305 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:31.305 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:31.305 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.305 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.305 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:31.306 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:53:31.306 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:31.319 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:53:31.339 +01:00 [DBG] Hosting starting
2025-02-07 13:53:31.350 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:53:31.351 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:53:31.351 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:53:31.353 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:53:31.354 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:53:31.354 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:53:31.357 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:53:31.358 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:53:31.359 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:53:31.359 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:53:31.361 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:53:31.361 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:53:31.361 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:53:31.362 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:53:31.374 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:53:31.374 +01:00 [DBG] Hosting started
2025-02-07 13:53:31.453 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:31.457 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:53:31.479 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:53:31.486 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:31.486 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:31.488 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.489 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.490 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:53:31.501 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:53:31.517 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:53:31.538 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:31.538 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.538 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:31.540 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:53:31.571 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/liist - null null
2025-02-07 13:53:31.572 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:53:31.582 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/liist'
2025-02-07 13:53:31.582 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:53:31.588 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:53:31.591 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:53:31.592 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:53:31.592 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:53:31.592 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:53:31.593 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:53:31.596 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/liist - 405 null null 25.8009ms
2025-02-07 13:53:31.601 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:31.611 +01:00 [DBG] Hosting stopping
2025-02-07 13:53:31.611 +01:00 [DBG] Hosting stopping
2025-02-07 13:53:31.611 +01:00 [DBG] Hosting stopped
2025-02-07 13:53:31.612 +01:00 [DBG] Hosting stopped
2025-02-07 13:53:43.930 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:53:43.988 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:53:44.153 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:53:44.154 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:53:44.257 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:44.269 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.272 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.399 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.403 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:53:44.406 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:53:44.410 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:44.420 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:44.421 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.423 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.424 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:53:44.424 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:53:44.424 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.425 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.425 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:44.431 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:44.431 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.431 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:53:44.432 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:53:44.432 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:44.432 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:53:44.432 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:53:44.432 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:53:44.432 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.432 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:44.433 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:53:44.433 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.433 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.438 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:44.438 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:44.438 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.438 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.438 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:53:44.442 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:53:44.443 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:44.443 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.443 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.448 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:53:44.448 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:53:44.455 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:53:44.462 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:44.473 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:53:44.525 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:44.536 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:44.540 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:53:44.540 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.540 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.541 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:44.543 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:44.544 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:44.544 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.544 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.544 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:53:44.546 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:44.546 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:44.546 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:44.546 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.546 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.546 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:44.548 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:44.548 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:44.548 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.548 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.548 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:53:44.549 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:53:44.549 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:44.549 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:44.549 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.549 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.549 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:44.550 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:53:44.550 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:44.550 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.550 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.551 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:44.552 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:53:44.552 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:44.565 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:53:44.586 +01:00 [DBG] Hosting starting
2025-02-07 13:53:44.597 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:53:44.597 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:53:44.597 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:53:44.599 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:53:44.600 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:53:44.600 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:53:44.603 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:53:44.604 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:53:44.604 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:53:44.605 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:53:44.606 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:53:44.606 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:53:44.607 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:53:44.607 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:53:44.618 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:53:44.618 +01:00 [DBG] Hosting started
2025-02-07 13:53:44.698 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:53:44.702 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:53:44.725 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:53:44.732 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:53:44.732 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:53:44.734 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.735 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.736 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:53:44.747 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:53:44.764 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:53:44.784 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:53:44.785 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.785 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:53:44.787 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:53:44.818 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/list - application/json; charset=utf-8 45
2025-02-07 13:53:44.822 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:53:44.832 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 13:53:44.832 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:53:44.838 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:53:44.842 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:53:44.843 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:53:44.843 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:53:44.843 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:53:44.843 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:53:44.846 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/list - 405 null null 29.5131ms
2025-02-07 13:53:44.851 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:53:44.862 +01:00 [DBG] Hosting stopping
2025-02-07 13:53:44.862 +01:00 [DBG] Hosting stopping
2025-02-07 13:53:44.863 +01:00 [DBG] Hosting stopped
2025-02-07 13:53:44.863 +01:00 [DBG] Hosting stopped
2025-02-07 13:54:06.917 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:54:06.975 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:54:07.143 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:54:07.144 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:54:07.243 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:54:07.254 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.257 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.358 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.362 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:54:07.365 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:54:07.369 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:54:07.379 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:54:07.380 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.382 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.384 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:54:07.384 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:54:07.384 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.384 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.384 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:54:07.390 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:54:07.390 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.391 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.391 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.391 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.391 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:54:07.391 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:54:07.391 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:54:07.392 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:54:07.392 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.392 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.392 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:54:07.392 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:54:07.392 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.392 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.392 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:54:07.392 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:54:07.392 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.392 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.397 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:54:07.397 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:54:07.397 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.397 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.397 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:54:07.402 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:54:07.403 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:54:07.403 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.403 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.408 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:54:07.408 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:54:07.415 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:54:07.422 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:54:07.434 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:54:07.485 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:54:07.495 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:54:07.499 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:54:07.499 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.499 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.499 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:54:07.502 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:54:07.502 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:54:07.502 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.502 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.503 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:54:07.504 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:54:07.504 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:54:07.504 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:54:07.504 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.504 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.504 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:54:07.505 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:54:07.505 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:54:07.505 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.505 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.506 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:54:07.506 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:54:07.507 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:54:07.507 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:54:07.507 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.507 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.507 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:54:07.508 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:54:07.508 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:54:07.508 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.508 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.508 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:54:07.509 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:54:07.509 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:54:07.521 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:54:07.541 +01:00 [DBG] Hosting starting
2025-02-07 13:54:07.552 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:54:07.552 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:54:07.552 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:54:07.554 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:54:07.555 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:54:07.555 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:54:07.558 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:54:07.559 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:54:07.559 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:54:07.560 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:54:07.561 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:54:07.561 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:54:07.562 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:54:07.562 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:54:07.572 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:54:07.573 +01:00 [DBG] Hosting started
2025-02-07 13:54:07.651 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:54:07.655 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:54:07.677 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:54:07.684 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:54:07.685 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:54:07.687 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.688 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.689 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:54:07.699 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:54:07.715 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:54:07.736 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:54:07.737 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.737 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:54:07.738 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:54:07.768 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/api/trade/list - null null
2025-02-07 13:54:07.769 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:54:07.778 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 13:54:07.778 +01:00 [DBG] Request matched endpoint '405 HTTP Method Not Supported'
2025-02-07 13:54:07.784 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:54:07.787 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:54:07.788 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:54:07.788 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:54:07.788 +01:00 [INF] Executing endpoint '405 HTTP Method Not Supported'
2025-02-07 13:54:07.789 +01:00 [INF] Executed endpoint '405 HTTP Method Not Supported'
2025-02-07 13:54:07.792 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/api/trade/list - 405 null null 24.7639ms
2025-02-07 13:54:07.797 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:54:07.807 +01:00 [DBG] Hosting stopping
2025-02-07 13:54:07.807 +01:00 [DBG] Hosting stopping
2025-02-07 13:54:07.807 +01:00 [DBG] Hosting stopped
2025-02-07 13:54:07.807 +01:00 [DBG] Hosting stopped
2025-02-07 13:57:36.320 +01:00 [INF] Attempting to migrate database...
2025-02-07 13:57:36.378 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 13:57:36.542 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 13:57:36.542 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 13:57:36.647 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:57:36.658 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.661 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.766 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.769 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:57:36.772 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 13:57:36.776 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:57:36.786 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:57:36.787 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.789 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.790 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:57:36.790 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:57:36.791 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.791 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.791 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:57:36.797 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:57:36.797 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.797 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 13:57:36.798 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 13:57:36.798 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:57:36.798 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 13:57:36.798 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 13:57:36.798 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 13:57:36.798 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.798 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:57:36.799 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 13:57:36.799 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.799 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.804 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:57:36.804 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:57:36.804 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.804 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.804 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:57:36.808 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 13:57:36.809 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:57:36.809 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.809 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.814 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 13:57:36.814 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 13:57:36.821 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 13:57:36.828 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:57:36.839 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 13:57:36.891 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:57:36.902 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:57:36.905 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 13:57:36.905 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.906 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.906 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:57:36.908 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:57:36.909 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:57:36.909 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.909 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.909 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 13:57:36.910 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:57:36.910 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:57:36.910 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:57:36.910 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.911 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.911 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:57:36.912 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:57:36.912 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:57:36.912 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.912 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.912 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 13:57:36.913 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 13:57:36.913 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:57:36.913 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:57:36.913 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.913 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.913 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:57:36.914 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 13:57:36.914 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:57:36.914 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.914 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:36.915 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:57:36.915 +01:00 [INF] Database seeding completed successfully.
2025-02-07 13:57:36.915 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:57:36.928 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 13:57:36.949 +01:00 [DBG] Hosting starting
2025-02-07 13:57:36.960 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 13:57:36.960 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 13:57:36.960 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 13:57:36.962 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 13:57:36.963 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 13:57:36.963 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 13:57:36.966 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 13:57:36.967 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:57:36.967 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 13:57:36.968 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 13:57:36.969 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 13:57:36.969 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 13:57:36.970 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 13:57:36.970 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 13:57:36.980 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 13:57:36.980 +01:00 [DBG] Hosting started
2025-02-07 13:57:37.058 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:57:37.062 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 13:57:37.085 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 13:57:37.092 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:57:37.092 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:57:37.095 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.096 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.097 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:57:37.107 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 13:57:37.124 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.144 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:57:37.145 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.145 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.147 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 13:57:37.176 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 13:57:37.177 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 13:57:37.187 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 13:57:37.187 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 13:57:37.187 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 13:57:37.208 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:57:37.212 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 13:57:37.234 +01:00 [DBG] Successfully validated the token.
2025-02-07 13:57:37.235 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 13:57:37.237 +01:00 [DBG] Authorization was successful.
2025-02-07 13:57:37.237 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 13:57:37.238 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 13:57:37.238 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 13:57:37.247 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 13:57:37.247 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 13:57:37.247 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 13:57:37.248 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 13:57:37.248 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 13:57:37.248 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 13:57:37.248 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:57:37.249 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 13:57:37.249 +01:00 [DBG] Affichage de tous les trades
2025-02-07 13:57:37.251 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 13:57:37.252 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 13:57:37.254 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 13:57:37.254 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 13:57:37.254 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 13:57:37.254 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.255 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.255 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 13:57:37.256 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 13:57:37.258 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.278 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.278 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.278 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.279 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.279 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.279 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.279 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 13:57:37.279 +01:00 [DBG] A data reader was disposed.
2025-02-07 13:57:37.279 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.279 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 13:57:37.281 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 13:57:37.281 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 13:57:37.281 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 13:57:37.281 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 13:57:37.281 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 13:57:37.282 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 13:57:37.310 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 60.5338ms
2025-02-07 13:57:37.310 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 13:57:37.313 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:57:37.313 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 137.9751ms
2025-02-07 13:57:37.315 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 13:57:37.320 +01:00 [DBG] Hosting stopping
2025-02-07 13:57:37.320 +01:00 [DBG] Hosting stopping
2025-02-07 13:57:37.320 +01:00 [DBG] Hosting stopped
2025-02-07 13:57:37.321 +01:00 [DBG] Hosting stopped
2025-02-07 14:02:33.021 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:02:33.079 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:02:33.245 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:02:33.246 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:02:33.344 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:02:33.355 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.357 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.464 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.468 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:02:33.471 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:02:33.475 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:02:33.485 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:02:33.486 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.488 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.489 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:02:33.489 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:02:33.489 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.490 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.490 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:02:33.496 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:02:33.496 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.496 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.497 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.497 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.497 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:02:33.497 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:02:33.497 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:02:33.497 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:02:33.497 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.497 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.497 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:02:33.498 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:02:33.498 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.498 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.498 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:02:33.498 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:02:33.498 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.498 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.503 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:02:33.503 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:02:33.503 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.503 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.503 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:02:33.507 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:02:33.508 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:02:33.508 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.509 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.513 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:02:33.513 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:02:33.520 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:02:33.528 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:02:33.539 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:02:33.591 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:02:33.602 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:02:33.605 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 14:02:33.606 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.606 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.606 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:02:33.608 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:02:33.609 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:02:33.609 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.609 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.610 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:02:33.611 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:02:33.611 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:02:33.611 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:02:33.611 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.611 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.611 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:02:33.613 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:02:33.613 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:02:33.613 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.613 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.613 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:02:33.614 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:02:33.614 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:02:33.614 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:02:33.614 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.614 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.614 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:02:33.615 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:02:33.615 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:02:33.615 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.615 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:02:33.615 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:02:33.616 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:02:33.616 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:02:33.629 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:02:33.650 +01:00 [DBG] Hosting starting
2025-02-07 14:02:33.660 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:02:33.661 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:02:33.661 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:02:33.663 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:02:33.664 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:02:33.664 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:02:33.667 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:02:33.668 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:02:33.668 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:02:33.668 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:02:33.669 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:02:33.670 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:02:33.670 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:02:33.671 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:02:33.681 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:02:33.681 +01:00 [DBG] Hosting started
2025-02-07 14:02:33.705 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost/validate - application/json; charset=utf-8 392
2025-02-07 14:02:33.710 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:02:33.718 +01:00 [DBG] No candidates found for the request path '/validate'
2025-02-07 14:02:33.718 +01:00 [DBG] Request did not match any endpoints
2025-02-07 14:02:33.723 +01:00 [DBG] POST requests are not supported
2025-02-07 14:02:33.727 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:02:33.727 +01:00 [DBG] POST requests are not supported
2025-02-07 14:02:33.728 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 14:02:33.731 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost/validate - 404 null null 26.4056ms
2025-02-07 14:02:33.731 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: POST http://localhost/validate, Response status code: 404
2025-02-07 14:02:33.745 +01:00 [DBG] Hosting stopping
2025-02-07 14:02:33.746 +01:00 [DBG] Hosting stopping
2025-02-07 14:02:33.746 +01:00 [DBG] Hosting stopped
2025-02-07 14:02:33.746 +01:00 [DBG] Hosting stopped
2025-02-07 14:04:06.324 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:04:06.382 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:04:06.543 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:04:06.544 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:04:06.642 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:04:06.653 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.656 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.758 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.761 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:04:06.764 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:04:06.768 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:04:06.779 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:04:06.780 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.781 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.783 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:04:06.783 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:04:06.783 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.783 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.783 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:04:06.790 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:04:06.790 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.790 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.790 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.790 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.790 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:04:06.790 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:04:06.790 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:04:06.791 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:04:06.791 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.791 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.791 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:04:06.791 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:04:06.791 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.791 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.791 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:04:06.791 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:04:06.791 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.791 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.796 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:04:06.796 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:04:06.796 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.796 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.797 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:04:06.801 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:04:06.802 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:04:06.802 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.802 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.807 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:04:06.807 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:04:06.814 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:04:06.821 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:04:06.832 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:04:06.883 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:04:06.894 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:04:06.898 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 14:04:06.898 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.898 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.898 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:04:06.900 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:04:06.901 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:04:06.901 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.901 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.902 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:04:06.903 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:04:06.903 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:04:06.903 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:04:06.903 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.903 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.903 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:04:06.904 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:04:06.904 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:04:06.904 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.905 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.905 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:04:06.905 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:04:06.906 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:04:06.906 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:04:06.906 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.906 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.906 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:04:06.907 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:04:06.907 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:04:06.907 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.907 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:06.907 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:04:06.908 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:04:06.908 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:04:06.920 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:04:06.940 +01:00 [DBG] Hosting starting
2025-02-07 14:04:06.950 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:04:06.951 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:04:06.951 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:04:06.952 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:04:06.953 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:04:06.954 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:04:06.956 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:04:06.957 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:04:06.958 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:04:06.958 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:04:06.959 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:04:06.959 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:04:06.960 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:04:06.960 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:04:06.971 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:04:06.971 +01:00 [DBG] Hosting started
2025-02-07 14:04:07.049 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:04:07.052 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 14:04:07.074 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 14:04:07.082 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:04:07.082 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:04:07.084 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:07.085 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:07.086 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:04:07.097 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:04:07.113 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:04:07.133 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:04:07.134 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:07.134 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:04:07.136 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:04:07.166 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:04:07.167 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:04:07.176 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:04:07.177 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:04:07.177 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:04:07.184 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:04:07.188 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:04:07.210 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:04:07.211 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:04:07.212 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:04:07.214 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 14:04:07.217 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 51.8301ms
2025-02-07 14:04:07.222 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:04:07.232 +01:00 [DBG] Hosting stopping
2025-02-07 14:04:07.233 +01:00 [DBG] Hosting stopping
2025-02-07 14:04:07.233 +01:00 [DBG] Hosting stopped
2025-02-07 14:04:07.233 +01:00 [DBG] Hosting stopped
2025-02-07 14:05:23.590 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:05:23.648 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:05:23.815 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:05:23.816 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:05:23.920 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:05:23.932 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:23.934 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.040 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.043 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:05:24.046 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:05:24.050 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:05:24.061 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:05:24.061 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.063 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.065 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:05:24.065 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:05:24.065 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.065 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.065 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:05:24.071 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:05:24.071 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.071 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.072 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.072 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.072 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:05:24.072 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:05:24.072 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:05:24.072 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:05:24.072 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.072 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.073 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:05:24.073 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:05:24.073 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.073 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.073 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:05:24.073 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:05:24.073 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.073 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.078 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:05:24.078 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:05:24.078 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.078 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.078 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:05:24.083 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:05:24.084 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:05:24.084 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.084 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.088 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:05:24.088 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:05:24.095 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:05:24.103 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:05:24.114 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:05:24.165 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:05:24.176 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:05:24.180 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 14:05:24.180 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.180 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.180 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:05:24.182 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:05:24.183 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:05:24.183 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.183 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.183 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:05:24.184 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:05:24.184 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:05:24.184 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:05:24.184 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.185 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.185 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:05:24.186 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:05:24.186 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:05:24.186 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.186 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.186 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:05:24.187 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:05:24.187 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:05:24.187 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:05:24.187 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.187 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.187 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:05:24.188 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:05:24.188 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:05:24.188 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.188 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.189 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:05:24.189 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:05:24.189 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:05:24.203 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:05:24.223 +01:00 [DBG] Hosting starting
2025-02-07 14:05:24.234 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:05:24.234 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:05:24.235 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:05:24.236 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:05:24.237 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:05:24.237 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:05:24.240 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:05:24.241 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:05:24.241 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:05:24.242 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:05:24.243 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:05:24.243 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:05:24.244 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:05:24.244 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:05:24.255 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:05:24.255 +01:00 [DBG] Hosting started
2025-02-07 14:05:24.334 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:05:24.338 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 14:05:24.360 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 14:05:24.367 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:05:24.367 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:05:24.369 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.370 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.371 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:05:24.384 +01:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:05:24.400 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:05:24.421 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:05:24.422 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.422 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:05:24.425 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:05:24.454 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:05:24.455 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:05:24.465 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:05:24.466 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:05:24.466 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:05:24.474 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:05:24.477 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:05:24.500 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:05:24.501 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:05:24.503 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:05:24.504 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 14:05:24.507 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 53.4143ms
2025-02-07 14:05:24.512 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:05:24.522 +01:00 [DBG] Hosting stopping
2025-02-07 14:05:24.523 +01:00 [DBG] Hosting stopped
2025-02-07 14:05:24.523 +01:00 [DBG] Hosting stopping
2025-02-07 14:05:24.523 +01:00 [DBG] Hosting stopped
2025-02-07 14:08:27.039 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:08:27.096 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:08:27.262 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:08:27.263 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:08:27.363 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:08:27.375 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.378 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.481 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.485 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:08:27.487 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:08:27.492 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:08:27.502 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:08:27.503 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.505 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.506 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:08:27.506 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:08:27.506 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.506 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.507 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:08:27.513 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:08:27.513 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.513 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.513 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.513 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.513 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:08:27.513 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:08:27.513 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:08:27.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:08:27.514 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.514 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.514 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:08:27.514 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:08:27.514 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.514 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.514 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:08:27.514 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:08:27.514 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.514 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.519 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:08:27.519 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:08:27.519 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.519 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.520 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:08:27.524 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:08:27.525 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:08:27.525 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.525 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.530 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:08:27.530 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:08:27.536 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:08:27.544 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:08:27.554 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:08:27.606 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:08:27.617 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:08:27.620 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-02-07 14:08:27.620 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.620 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.620 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:08:27.623 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:08:27.624 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:08:27.624 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.624 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.624 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:08:27.625 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:08:27.626 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:08:27.626 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:08:27.626 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.626 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.626 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:08:27.627 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:08:27.627 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:08:27.627 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.627 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.628 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:08:27.628 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:08:27.629 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:08:27.629 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:08:27.629 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.629 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.629 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:08:27.630 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:08:27.630 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:08:27.630 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.630 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.630 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:08:27.631 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:08:27.631 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:08:27.644 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:08:27.664 +01:00 [DBG] Hosting starting
2025-02-07 14:08:27.675 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:08:27.675 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:08:27.675 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:08:27.677 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:08:27.678 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:08:27.678 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:08:27.681 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:08:27.682 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:08:27.682 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:08:27.683 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:08:27.684 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:08:27.684 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:08:27.684 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:08:27.685 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:08:27.695 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:08:27.695 +01:00 [DBG] Hosting started
2025-02-07 14:08:27.775 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:08:27.778 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 14:08:27.801 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 14:08:27.808 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:08:27.808 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:08:27.811 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.812 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.813 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:08:27.824 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:08:27.840 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:08:27.861 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:08:27.861 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.861 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:08:27.863 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:08:27.893 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:08:27.894 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:08:27.903 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:08:27.904 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:08:27.904 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:08:27.911 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:08:27.915 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:08:27.936 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:08:27.937 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:08:27.939 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:08:27.940 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 14:08:27.943 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 51.4089ms
2025-02-07 14:08:27.947 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:08:27.953 +01:00 [DBG] Hosting stopping
2025-02-07 14:08:27.953 +01:00 [DBG] Hosting stopping
2025-02-07 14:08:27.953 +01:00 [DBG] Hosting stopped
2025-02-07 14:08:27.953 +01:00 [DBG] Hosting stopped
2025-02-07 14:12:23.640 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:12:23.700 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:12:23.865 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:12:23.865 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:12:23.970 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:23.983 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:23.986 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.100 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.103 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:12:24.106 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:12:24.111 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:24.123 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:24.124 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.126 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.127 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:12:24.127 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:12:24.127 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.128 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.128 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:24.134 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:24.134 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.134 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.135 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.135 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.135 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:12:24.135 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:12:24.135 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:24.135 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:24.136 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.136 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.136 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:12:24.136 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:12:24.136 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.136 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.136 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:24.136 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:24.136 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.136 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.141 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:24.141 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:24.141 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.141 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.141 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:12:24.146 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:12:24.147 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:24.147 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.147 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.152 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:12:24.152 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:12:24.159 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:12:24.167 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:24.179 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:12:24.241 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:12:24.254 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:24.258 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-02-07 14:12:24.258 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.258 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.258 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:24.261 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:24.262 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:24.262 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.262 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.263 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:12:24.264 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:12:24.264 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:24.264 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:24.264 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.264 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.264 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:24.266 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:24.266 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:24.266 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.266 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.267 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:12:24.267 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:12:24.268 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:24.268 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:24.268 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.268 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.268 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:24.269 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:24.269 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:24.269 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.269 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:24.270 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:24.270 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:12:24.270 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:24.285 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:12:24.309 +01:00 [DBG] Hosting starting
2025-02-07 14:12:24.321 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:12:24.322 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:12:24.322 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:12:24.324 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:12:24.325 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:12:24.326 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:12:24.329 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:12:24.330 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:12:24.330 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:12:24.331 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:12:24.332 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:12:24.333 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:12:24.333 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:12:24.333 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:12:24.346 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:12:24.346 +01:00 [DBG] Hosting started
2025-02-07 14:12:24.368 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:12:24.369 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:12:24.379 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:12:24.379 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:12:24.379 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:12:24.387 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:12:24.390 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:12:24.398 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 14:12:24.399 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 14:12:24.400 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:12:24.402 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 14:12:24.405 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 38.1331ms
2025-02-07 14:12:24.416 +01:00 [DBG] Hosting stopping
2025-02-07 14:12:24.416 +01:00 [DBG] Hosting stopping
2025-02-07 14:12:24.416 +01:00 [DBG] Hosting stopped
2025-02-07 14:12:24.416 +01:00 [DBG] Hosting stopped
2025-02-07 14:12:30.107 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:12:30.170 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:12:30.347 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:12:30.348 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:12:30.449 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:30.460 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.462 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.561 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.564 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:12:30.567 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:12:30.571 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:30.582 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:30.583 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.584 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.586 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:12:30.586 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:12:30.586 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.586 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.586 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:30.593 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:30.593 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.593 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.593 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.593 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.593 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:12:30.593 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:12:30.593 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:30.594 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:12:30.594 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.594 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.594 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:12:30.594 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:12:30.594 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.594 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.594 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:30.594 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:12:30.594 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.594 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.600 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:30.600 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:30.600 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.600 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.600 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:12:30.604 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:12:30.605 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:30.605 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.605 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.610 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:12:30.610 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:12:30.617 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:12:30.624 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:30.636 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:12:30.687 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:12:30.702 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:30.702 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:30.702 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.702 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.702 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:30.704 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:30.705 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:30.705 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.705 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.705 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:12:30.707 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:12:30.707 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:30.707 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:30.707 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.707 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.707 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:30.708 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:30.708 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:30.708 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.709 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.709 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:12:30.709 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:12:30.709 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:30.709 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:30.710 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.710 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.710 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:30.711 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:12:30.711 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:30.711 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.711 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:30.711 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:30.712 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:12:30.712 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:30.725 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:12:30.745 +01:00 [DBG] Hosting starting
2025-02-07 14:12:30.756 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:12:30.757 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:12:30.757 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:12:30.758 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:12:30.759 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:12:30.760 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:12:30.762 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:12:30.763 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:12:30.763 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:12:30.764 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:12:30.765 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:12:30.766 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:12:30.766 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:12:30.767 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:12:30.777 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:12:30.777 +01:00 [DBG] Hosting started
2025-02-07 14:12:30.913 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:12:30.914 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:12:30.924 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:12:30.925 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:12:30.925 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:12:30.932 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:12:30.936 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:12:30.944 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 14:12:30.944 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 14:12:30.946 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:12:30.948 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 14:12:30.951 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 38.9574ms
2025-02-07 14:12:31.034 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:31.037 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 14:12:31.050 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 14:12:31.058 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:31.058 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:31.060 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.061 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.062 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:12:31.072 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:12:31.082 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.098 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:31.099 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.099 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.101 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:12:31.115 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:12:31.116 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:12:31.116 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:12:31.116 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:12:31.116 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:12:31.117 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:12:31.135 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:12:31.136 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:12:31.136 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:12:31.137 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 14:12:31.137 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 22.1588ms
2025-02-07 14:12:31.137 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:31.221 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:31.222 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:31.222 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:31.223 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.223 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.223 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:12:31.223 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:12:31.223 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.223 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:31.223 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.224 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.224 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:12:31.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:12:31.224 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:12:31.224 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:12:31.224 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:12:31.224 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:12:31.225 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:12:31.226 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:12:31.226 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:12:31.226 +01:00 [DBG] Authorization was successful.
2025-02-07 14:12:31.226 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:12:31.226 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 14:12:31.227 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:12:31.234 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 14:12:31.235 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 14:12:31.235 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 14:12:31.235 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 14:12:31.235 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 14:12:31.235 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 14:12:31.236 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 14:12:31.236 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 14:12:31.237 +01:00 [DBG] Affichage de tous les trades
2025-02-07 14:12:31.237 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:12:31.238 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 14:12:31.240 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 14:12:31.240 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:12:31.240 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:12:31.240 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.240 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.240 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 14:12:31.241 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 14:12:31.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.263 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.263 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.263 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.263 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.263 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.263 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.264 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:12:31.264 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:12:31.264 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.264 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:12:31.265 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 14:12:31.266 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 14:12:31.266 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 14:12:31.266 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 14:12:31.266 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 14:12:31.266 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 14:12:31.292 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 55.4588ms
2025-02-07 14:12:31.292 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:12:31.294 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:31.294 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:12:31.294 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 70.0004ms
2025-02-07 14:12:31.300 +01:00 [DBG] Hosting stopping
2025-02-07 14:12:31.300 +01:00 [DBG] Hosting stopping
2025-02-07 14:12:31.300 +01:00 [DBG] Hosting stopped
2025-02-07 14:12:31.300 +01:00 [DBG] Hosting stopped
2025-02-07 14:14:36.669 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:14:36.727 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:14:36.895 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:14:36.896 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:14:37.009 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:37.020 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.023 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.129 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.132 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:14:37.135 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:14:37.139 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:37.149 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:37.150 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.152 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.153 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:14:37.153 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:14:37.153 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.154 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.154 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:37.160 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:37.160 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.160 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:14:37.161 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:14:37.161 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:37.161 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:37.161 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:14:37.161 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:14:37.161 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.161 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:37.162 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:37.162 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.162 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.167 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:37.167 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:37.167 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.167 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.167 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:14:37.171 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:14:37.173 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:37.173 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.173 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.178 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:14:37.178 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:14:37.185 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:14:37.192 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:37.204 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:14:37.260 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:14:37.276 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:37.276 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:37.276 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.276 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.276 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:37.279 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:37.280 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:37.280 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.280 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.280 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:14:37.282 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:14:37.282 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:37.282 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:37.282 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.282 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.282 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:37.284 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:37.284 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:37.284 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.284 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.284 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:14:37.285 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:14:37.285 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:37.285 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:37.285 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.285 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.285 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:37.286 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:37.286 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:37.286 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.286 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.287 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:37.287 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:14:37.287 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:37.301 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:14:37.323 +01:00 [DBG] Hosting starting
2025-02-07 14:14:37.334 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:14:37.335 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:14:37.335 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:14:37.337 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:14:37.338 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:14:37.338 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:14:37.341 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:14:37.342 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:14:37.342 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:14:37.343 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:14:37.344 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:14:37.344 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:14:37.345 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:14:37.345 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:14:37.356 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:14:37.356 +01:00 [DBG] Hosting started
2025-02-07 14:14:37.372 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:14:37.373 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:14:37.383 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:14:37.383 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:14:37.383 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:37.391 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:37.394 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:14:37.402 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 14:14:37.403 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 14:14:37.404 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:14:37.406 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 14:14:37.409 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 37.8243ms
2025-02-07 14:14:37.498 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:37.501 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 14:14:37.525 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 14:14:37.532 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:37.532 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:37.535 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.536 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.537 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:14:37.548 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:14:37.564 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.585 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:37.585 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.586 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.587 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:14:37.601 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:14:37.602 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:14:37.602 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:14:37.602 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:37.602 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:37.603 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:14:37.621 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:14:37.622 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:14:37.622 +01:00 [DBG] Authorization was successful.
2025-02-07 14:14:37.623 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:37.623 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 14:14:37.623 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:37.631 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 14:14:37.632 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 14:14:37.632 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 14:14:37.632 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 14:14:37.632 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 14:14:37.632 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 14:14:37.633 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 14:14:37.633 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 14:14:37.634 +01:00 [DBG] Affichage de tous les trades
2025-02-07 14:14:37.635 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:37.636 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 14:14:37.638 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 14:14:37.639 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:37.639 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:37.639 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.639 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.639 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 14:14:37.640 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 14:14:37.642 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.662 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:37.663 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:37.663 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.663 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:37.665 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 14:14:37.665 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 14:14:37.665 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 14:14:37.665 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 14:14:37.666 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 14:14:37.666 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 14:14:37.693 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 58.8938ms
2025-02-07 14:14:37.693 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:37.694 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:37.695 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:37.695 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 94.11ms
2025-02-07 14:14:37.697 +01:00 [DBG] Hosting stopping
2025-02-07 14:14:37.697 +01:00 [DBG] Hosting stopping
2025-02-07 14:14:37.697 +01:00 [DBG] Hosting stopped
2025-02-07 14:14:37.697 +01:00 [DBG] Hosting stopped
2025-02-07 14:14:42.559 +01:00 [INF] Attempting to migrate database...
2025-02-07 14:14:42.617 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 14:14:42.782 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 14:14:42.783 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 14:14:42.880 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:42.891 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:42.894 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:42.992 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:42.995 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:14:42.998 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 14:14:43.002 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:43.013 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:43.013 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.015 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.017 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:14:43.017 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:14:43.017 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.017 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.017 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:43.024 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:43.024 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.024 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.024 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.024 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.024 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 14:14:43.024 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 14:14:43.024 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:43.025 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 14:14:43.025 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.025 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.025 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 14:14:43.025 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 14:14:43.025 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.025 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.025 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:43.025 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 14:14:43.025 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.025 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.030 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.030 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.030 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.030 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.031 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:14:43.035 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 14:14:43.036 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.036 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.036 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.040 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 14:14:43.040 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 14:14:43.047 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 14:14:43.055 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:43.067 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 14:14:43.123 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:14:43.138 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.138 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.138 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.138 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.138 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:43.140 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:43.141 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.141 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.141 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.141 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 14:14:43.142 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:14:43.143 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.143 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.143 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.143 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.143 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:43.144 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:43.144 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.144 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.144 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.145 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 14:14:43.145 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 14:14:43.146 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.146 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.146 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.146 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.146 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:43.147 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 14:14:43.147 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.147 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.147 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.147 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:43.148 +01:00 [INF] Database seeding completed successfully.
2025-02-07 14:14:43.148 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:43.160 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 14:14:43.181 +01:00 [DBG] Hosting starting
2025-02-07 14:14:43.191 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 14:14:43.192 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 14:14:43.192 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 14:14:43.193 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 14:14:43.195 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 14:14:43.195 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 14:14:43.197 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 14:14:43.198 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:14:43.199 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 14:14:43.199 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 14:14:43.200 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 14:14:43.201 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 14:14:43.201 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 14:14:43.201 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 14:14:43.211 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 14:14:43.212 +01:00 [DBG] Hosting started
2025-02-07 14:14:43.228 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:14:43.229 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 14:14:43.238 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:14:43.239 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:14:43.239 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:43.246 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:43.250 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:14:43.258 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 14:14:43.258 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 14:14:43.259 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:14:43.261 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 14:14:43.265 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 37.6972ms
2025-02-07 14:14:43.350 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:43.353 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 14:14:43.376 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 14:14:43.383 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.383 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.385 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.386 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.387 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:14:43.399 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:14:43.414 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.434 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.435 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.435 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.437 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:14:43.450 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:14:43.451 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:14:43.451 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:14:43.451 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:43.451 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:43.452 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:14:43.470 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:14:43.471 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:14:43.471 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 14:14:43.472 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 14:14:43.472 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 21.9659ms
2025-02-07 14:14:43.472 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:43.519 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:43.521 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.521 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.521 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.521 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.521 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:14:43.522 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 14:14:43.522 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.522 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.522 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.522 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.522 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 14:14:43.523 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 14:14:43.523 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 14:14:43.523 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 14:14:43.523 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:43.523 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:43.523 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 14:14:43.524 +01:00 [DBG] Successfully validated the token.
2025-02-07 14:14:43.524 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 14:14:43.524 +01:00 [DBG] Authorization was successful.
2025-02-07 14:14:43.524 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 14:14:43.525 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 14:14:43.525 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:43.533 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 14:14:43.534 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 14:14:43.534 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 14:14:43.534 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 14:14:43.534 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 14:14:43.534 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 14:14:43.535 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 14:14:43.535 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 14:14:43.536 +01:00 [DBG] Affichage de tous les trades
2025-02-07 14:14:43.538 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 14:14:43.538 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 14:14:43.541 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 14:14:43.541 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 14:14:43.541 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 14:14:43.541 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.541 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.541 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 14:14:43.542 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 14:14:43.545 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.567 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.567 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.568 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.568 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.568 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.568 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.568 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 14:14:43.568 +01:00 [DBG] A data reader was disposed.
2025-02-07 14:14:43.568 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.568 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 14:14:43.570 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 14:14:43.570 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 14:14:43.570 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 14:14:43.570 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 14:14:43.571 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 14:14:43.571 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 14:14:43.599 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 63.0773ms
2025-02-07 14:14:43.599 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 14:14:43.600 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:43.601 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 14:14:43.601 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 78.1965ms
2025-02-07 14:14:43.603 +01:00 [DBG] Hosting stopping
2025-02-07 14:14:43.603 +01:00 [DBG] Hosting stopping
2025-02-07 14:14:43.603 +01:00 [DBG] Hosting stopped
2025-02-07 14:14:43.603 +01:00 [DBG] Hosting stopped
2025-02-07 15:57:17.081 +01:00 [INF] Attempting to migrate database...
2025-02-07 15:57:17.141 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 15:57:17.313 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 15:57:17.314 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 15:57:17.419 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 15:57:17.534 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.536 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.674 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.678 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 15:57:17.681 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 15:57:17.685 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 15:57:17.697 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 15:57:17.698 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.700 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.701 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 15:57:17.701 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 15:57:17.701 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.702 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.702 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 15:57:17.709 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 15:57:17.709 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.709 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.709 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.709 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.709 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 15:57:17.709 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 15:57:17.709 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 15:57:17.710 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 15:57:17.710 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.710 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.710 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 15:57:17.710 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 15:57:17.710 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.710 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.710 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 15:57:17.711 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 15:57:17.711 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.711 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.716 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:17.716 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:17.716 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.716 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.716 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 15:57:17.720 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 15:57:17.721 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:17.722 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.722 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.727 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 15:57:17.727 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 15:57:17.733 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 15:57:17.741 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 15:57:17.753 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 15:57:17.807 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 15:57:17.823 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:17.823 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:17.823 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.823 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.824 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 15:57:17.826 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 15:57:17.827 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:17.827 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.827 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.827 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 15:57:17.829 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 15:57:17.829 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:17.829 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:17.829 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.829 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.829 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 15:57:17.831 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 15:57:17.831 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:17.831 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.831 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.831 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 15:57:17.832 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 15:57:17.832 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:17.832 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:17.832 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.832 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.832 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 15:57:17.833 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 15:57:17.833 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:17.833 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.833 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:17.834 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 15:57:17.834 +01:00 [INF] Database seeding completed successfully.
2025-02-07 15:57:17.834 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 15:57:17.847 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 15:57:17.868 +01:00 [DBG] Hosting starting
2025-02-07 15:57:17.879 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 15:57:17.880 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 15:57:17.880 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 15:57:17.882 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 15:57:17.883 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 15:57:17.883 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 15:57:17.886 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 15:57:17.887 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 15:57:17.887 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 15:57:17.888 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 15:57:17.889 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 15:57:17.889 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 15:57:17.890 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 15:57:17.890 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 15:57:17.901 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 15:57:17.901 +01:00 [DBG] Hosting started
2025-02-07 15:57:18.032 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 15:57:18.034 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 15:57:18.044 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 15:57:18.044 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 15:57:18.044 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 15:57:18.052 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 15:57:18.056 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 15:57:18.065 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 15:57:18.065 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 15:57:18.067 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 15:57:18.069 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 15:57:18.072 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 40.7246ms
2025-02-07 15:57:18.287 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 15:57:18.290 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 15:57:18.305 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 15:57:18.312 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:18.312 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:18.315 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.316 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.317 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 15:57:18.328 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 15:57:18.338 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.356 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:18.356 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.357 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.358 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 15:57:18.372 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 15:57:18.373 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 15:57:18.373 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 15:57:18.373 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 15:57:18.374 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 15:57:18.374 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 15:57:18.394 +01:00 [DBG] Successfully validated the token.
2025-02-07 15:57:18.395 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 15:57:18.395 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 15:57:18.396 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 15:57:18.396 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 24.279ms
2025-02-07 15:57:18.396 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 15:57:18.606 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 15:57:18.608 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:18.608 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:18.608 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.608 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.608 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 15:57:18.609 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 15:57:18.609 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.609 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:18.609 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.609 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.609 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 15:57:18.610 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 15:57:18.610 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 15:57:18.610 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 15:57:18.610 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 15:57:18.610 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 15:57:18.610 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 15:57:18.611 +01:00 [DBG] Successfully validated the token.
2025-02-07 15:57:18.612 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 15:57:18.612 +01:00 [DBG] Authorization was successful.
2025-02-07 15:57:18.612 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 15:57:18.612 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 15:57:18.612 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 15:57:18.620 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 15:57:18.621 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 15:57:18.621 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 15:57:18.621 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 15:57:18.622 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 15:57:18.622 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 15:57:18.622 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 15:57:18.622 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 15:57:18.625 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 15:57:18.625 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 15:57:18.627 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 15:57:18.628 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 15:57:18.628 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 15:57:18.628 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.628 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.628 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 15:57:18.629 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 15:57:18.631 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 15:57:18.652 +01:00 [DBG] A data reader was disposed.
2025-02-07 15:57:18.653 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.653 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 15:57:18.653 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 15:57:18.655 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 15:57:18.655 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 15:57:18.655 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 15:57:18.655 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 15:57:18.655 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 15:57:18.656 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 15:57:18.683 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 59.5521ms
2025-02-07 15:57:18.683 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 15:57:18.684 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 15:57:18.684 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 15:57:18.685 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 74.9487ms
2025-02-07 15:57:18.691 +01:00 [DBG] Hosting stopping
2025-02-07 15:57:18.691 +01:00 [DBG] Hosting stopping
2025-02-07 15:57:18.691 +01:00 [DBG] Hosting stopped
2025-02-07 15:57:18.691 +01:00 [DBG] Hosting stopped
2025-02-07 16:03:10.672 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:03:10.730 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:03:10.891 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:03:10.892 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:03:10.994 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:11.005 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.007 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.113 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.116 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:03:11.119 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 16:03:11.123 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:11.134 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:11.135 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.136 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.138 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:03:11.138 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:03:11.138 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.138 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.139 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:11.145 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:11.145 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.146 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.146 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.146 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.146 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:03:11.146 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:03:11.146 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:11.147 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:11.147 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.147 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.147 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:03:11.147 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:03:11.147 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.147 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.147 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:11.147 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:11.147 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.147 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.152 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:11.152 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:11.152 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.152 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.153 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:03:11.157 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:03:11.158 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:11.158 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.158 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.163 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:03:11.163 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:03:11.170 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:03:11.178 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:11.189 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:03:11.241 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:03:11.252 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:11.256 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2025-02-07 16:03:11.256 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.256 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.256 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:11.259 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:11.259 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:11.259 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.259 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.260 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:03:11.261 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:03:11.261 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:11.261 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:11.261 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.261 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.261 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:11.263 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:11.263 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:11.263 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.263 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.263 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:03:11.264 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:03:11.264 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:11.264 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:11.264 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.264 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.264 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:11.265 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:11.265 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:11.265 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.265 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:11.266 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:11.266 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:03:11.267 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:11.280 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:03:11.300 +01:00 [DBG] Hosting starting
2025-02-07 16:03:11.311 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:03:11.311 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:03:11.312 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:03:11.313 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:03:11.314 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:03:11.315 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:03:11.317 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:03:11.318 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:03:11.318 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:03:11.319 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:03:11.320 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:03:11.320 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:03:11.321 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:03:11.321 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:03:11.331 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:03:11.331 +01:00 [DBG] Hosting started
2025-02-07 16:03:11.481 +01:00 [DBG] Hosting stopping
2025-02-07 16:03:11.481 +01:00 [DBG] Hosting stopping
2025-02-07 16:03:11.481 +01:00 [DBG] Hosting stopped
2025-02-07 16:03:11.481 +01:00 [DBG] Hosting stopped
2025-02-07 16:03:15.289 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:03:15.347 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:03:15.511 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:03:15.512 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:03:15.610 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:15.621 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.623 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.720 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.724 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:03:15.727 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:03:15.731 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:15.742 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:15.742 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.744 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.745 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:03:15.746 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:03:15.746 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.746 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.746 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:15.752 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:15.752 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.752 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.753 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.753 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.753 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:03:15.753 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:03:15.753 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:15.754 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:03:15.754 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.754 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.754 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:03:15.754 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:03:15.754 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.754 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.754 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:15.754 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:03:15.754 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.754 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.759 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:15.759 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:15.759 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.759 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.759 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:03:15.764 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:03:15.765 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:15.765 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.765 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.769 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:03:15.769 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:03:15.776 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:03:15.784 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:15.795 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:03:15.847 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:03:15.861 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:15.861 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:15.861 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.861 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.861 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:15.864 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:15.865 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:15.865 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.865 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.865 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:03:15.866 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:03:15.866 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:15.866 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:15.866 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.866 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.866 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:15.868 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:15.868 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:15.868 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.868 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.868 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:03:15.869 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:03:15.869 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:15.869 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:15.869 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.869 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.869 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:15.870 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:03:15.870 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:15.870 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.870 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:15.871 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:15.871 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:03:15.871 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:15.884 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:03:15.904 +01:00 [DBG] Hosting starting
2025-02-07 16:03:15.914 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:03:15.915 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:03:15.915 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:03:15.917 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:03:15.918 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:03:15.918 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:03:15.920 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:03:15.922 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:03:15.922 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:03:15.922 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:03:15.923 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:03:15.924 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:03:15.924 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:03:15.924 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:03:15.935 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:03:15.935 +01:00 [DBG] Hosting started
2025-02-07 16:03:15.951 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:03:15.952 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:03:15.962 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:03:15.962 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:03:15.962 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:03:15.969 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:03:15.973 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:03:15.981 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:03:15.981 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:03:15.983 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:03:15.984 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:03:15.988 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 37.6421ms
2025-02-07 16:03:16.187 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:16.190 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:03:16.204 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:03:16.211 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:16.211 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:16.213 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.214 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.215 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:03:16.226 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:03:16.236 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.252 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:16.253 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.253 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.255 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:03:16.268 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:03:16.269 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:03:16.269 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:03:16.269 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:03:16.269 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:03:16.270 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:03:16.288 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:03:16.289 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:03:16.289 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:03:16.290 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:03:16.290 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 22.4ms
2025-02-07 16:03:16.290 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:16.406 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:16.407 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:16.408 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:16.408 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.408 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.408 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:03:16.408 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:03:16.409 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.409 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:16.409 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.409 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.409 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:03:16.409 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:03:16.409 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:03:16.410 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:03:16.410 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:03:16.410 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:03:16.410 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:03:16.411 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:03:16.411 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:03:16.411 +01:00 [DBG] Authorization was successful.
2025-02-07 16:03:16.411 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:03:16.412 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:03:16.412 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:03:16.420 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:03:16.420 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:03:16.421 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:03:16.421 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:03:16.421 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:03:16.421 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:03:16.422 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:03:16.422 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:03:16.423 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:03:16.423 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:03:16.425 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:03:16.426 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:03:16.426 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:03:16.426 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.426 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.426 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:03:16.427 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:03:16.429 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:03:16.449 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:03:16.449 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.449 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:03:16.450 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:03:16.451 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:03:16.452 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:03:16.452 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:03:16.452 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:03:16.452 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:03:16.452 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:03:16.478 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 55.4271ms
2025-02-07 16:03:16.478 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:03:16.479 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:16.479 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:03:16.480 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 70.3681ms
2025-02-07 16:03:16.485 +01:00 [DBG] Hosting stopping
2025-02-07 16:03:16.486 +01:00 [DBG] Hosting stopping
2025-02-07 16:03:16.486 +01:00 [DBG] Hosting stopped
2025-02-07 16:03:16.486 +01:00 [DBG] Hosting stopped
2025-02-07 16:07:53.653 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:07:53.715 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:07:53.901 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:07:53.902 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:07:54.016 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:07:54.029 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.031 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.143 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.147 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:07:54.149 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:07:54.154 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:07:54.166 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:07:54.166 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.169 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.170 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:07:54.170 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:07:54.170 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.170 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.171 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:07:54.177 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:07:54.178 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.178 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.178 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.178 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.178 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:07:54.178 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:07:54.178 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:07:54.179 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:07:54.179 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.179 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.179 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:07:54.179 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:07:54.179 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.179 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.179 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:07:54.180 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:07:54.180 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.180 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.186 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.186 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.186 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.186 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.186 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:07:54.190 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:07:54.192 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.192 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.192 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.198 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:07:54.198 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:07:54.207 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:07:54.217 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:07:54.231 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:07:54.302 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:07:54.314 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.314 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.314 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.314 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.314 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:07:54.317 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:07:54.318 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.318 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.318 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.319 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:07:54.320 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:07:54.320 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.320 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.320 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.320 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.320 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:07:54.322 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:07:54.322 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.322 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.322 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.322 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:07:54.323 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:07:54.323 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.323 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.323 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.323 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.323 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:07:54.324 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:07:54.324 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.325 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.325 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.325 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:07:54.326 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:07:54.326 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:07:54.342 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:07:54.376 +01:00 [DBG] Hosting starting
2025-02-07 16:07:54.384 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:07:54.385 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:07:54.385 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:07:54.387 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:07:54.389 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:07:54.389 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:07:54.392 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:07:54.394 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:07:54.394 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:07:54.395 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:07:54.395 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:07:54.396 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:07:54.396 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:07:54.397 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:07:54.409 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:07:54.409 +01:00 [DBG] Hosting started
2025-02-07 16:07:54.428 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:07:54.429 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:07:54.440 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:07:54.440 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:07:54.441 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:07:54.451 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:07:54.455 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:07:54.464 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:07:54.464 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:07:54.466 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:07:54.468 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:07:54.472 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 44.4322ms
2025-02-07 16:07:54.679 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:07:54.682 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:07:54.696 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:07:54.703 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.704 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.706 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.707 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.708 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:07:54.722 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:07:54.733 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.749 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.750 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.751 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.752 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:07:54.766 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:07:54.767 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:07:54.767 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:07:54.767 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:07:54.767 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:07:54.768 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:07:54.787 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:07:54.788 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:07:54.788 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:07:54.789 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:07:54.789 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 23.1923ms
2025-02-07 16:07:54.789 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:07:54.911 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:07:54.912 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.913 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.913 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.913 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.913 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:07:54.913 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:07:54.913 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.914 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.914 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.914 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.914 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:07:54.914 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:07:54.914 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:07:54.914 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:07:54.914 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:07:54.915 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:07:54.915 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:07:54.916 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:07:54.916 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:07:54.916 +01:00 [DBG] Authorization was successful.
2025-02-07 16:07:54.916 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:07:54.917 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:07:54.917 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:07:54.925 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:07:54.925 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:07:54.926 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:07:54.926 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:07:54.926 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:07:54.926 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:07:54.927 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:07:54.927 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:07:54.928 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:07:54.928 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:07:54.930 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:07:54.931 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:07:54.931 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:07:54.931 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.931 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.931 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:07:54.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:07:54.934 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.954 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.954 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.954 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.954 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.954 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.954 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.955 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:07:54.955 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:07:54.955 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.955 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:07:54.955 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:07:54.956 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:07:54.957 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:07:54.957 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:07:54.957 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:07:54.957 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:07:54.957 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:07:54.983 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 55.8207ms
2025-02-07 16:07:54.984 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:07:54.985 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:07:54.985 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:07:54.985 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 70.9516ms
2025-02-07 16:07:54.991 +01:00 [DBG] Hosting stopping
2025-02-07 16:07:54.991 +01:00 [DBG] Hosting stopping
2025-02-07 16:07:54.991 +01:00 [DBG] Hosting stopped
2025-02-07 16:07:54.991 +01:00 [DBG] Hosting stopped
2025-02-07 16:13:10.083 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:13:10.145 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:13:10.312 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:13:10.312 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:13:10.412 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:13:10.423 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.426 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.524 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.528 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:13:10.531 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 16:13:10.535 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:13:10.545 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:13:10.546 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.548 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.549 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:13:10.549 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:13:10.549 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.549 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.550 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:13:10.556 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:13:10.556 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.556 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.556 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.556 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.556 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:13:10.556 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:13:10.556 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:13:10.557 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:13:10.557 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.557 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.557 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:13:10.557 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:13:10.557 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.557 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.557 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:13:10.557 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:13:10.557 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.557 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.563 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:10.563 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:10.563 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.563 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.563 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:13:10.567 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:13:10.568 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:10.568 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.568 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.573 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:13:10.573 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:13:10.580 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:13:10.587 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:13:10.599 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:13:10.656 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:13:10.667 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:10.667 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:10.667 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.667 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.667 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:13:10.669 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:13:10.670 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:10.670 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.670 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.671 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:13:10.672 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:13:10.672 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:10.672 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:10.672 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.672 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.672 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:13:10.674 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:13:10.674 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:10.674 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.674 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.674 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:13:10.675 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:13:10.675 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:10.675 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:10.675 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.675 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.675 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:13:10.676 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:13:10.676 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:10.676 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.676 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:10.677 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:13:10.677 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:13:10.677 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:13:10.690 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:13:10.713 +01:00 [DBG] Hosting starting
2025-02-07 16:13:10.721 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:13:10.721 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:13:10.721 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:13:10.723 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:13:10.724 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:13:10.724 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:13:10.727 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:13:10.728 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:13:10.728 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:13:10.729 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:13:10.729 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:13:10.729 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:13:10.730 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:13:10.730 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:13:10.741 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:13:10.741 +01:00 [DBG] Hosting started
2025-02-07 16:13:10.757 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:13:10.758 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:13:10.768 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:13:10.768 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:13:10.769 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:13:10.776 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:13:10.780 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:13:10.788 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:13:10.788 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:13:10.790 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:13:10.792 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:13:10.795 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 39.1337ms
2025-02-07 16:13:10.998 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:13:11.000 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:13:11.014 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:13:11.021 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:11.021 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:11.023 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.024 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.025 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:13:11.036 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:13:11.045 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.062 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:11.063 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.063 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.064 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:13:11.077 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:13:11.078 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:13:11.078 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:13:11.079 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:13:11.079 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:13:11.080 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:13:11.097 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:13:11.098 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:13:11.099 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:13:11.100 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:13:11.100 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 22.2348ms
2025-02-07 16:13:11.100 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:13:11.217 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:13:11.218 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:11.218 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:11.218 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.218 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.219 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:13:11.219 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:13:11.219 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.219 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:11.219 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.219 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.220 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:13:11.220 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:13:11.220 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:13:11.220 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:13:11.220 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:13:11.220 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:13:11.221 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:13:11.222 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:13:11.222 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:13:11.222 +01:00 [DBG] Authorization was successful.
2025-02-07 16:13:11.222 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:13:11.222 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:13:11.222 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:13:11.230 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:13:11.231 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:13:11.231 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:13:11.231 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:13:11.231 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:13:11.232 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:13:11.232 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:13:11.233 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:13:11.234 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:13:11.234 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:13:11.236 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:13:11.237 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:13:11.237 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:13:11.237 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.237 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.237 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:13:11.238 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:13:11.240 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:13:11.260 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:13:11.260 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.260 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:13:11.261 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:13:11.262 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:13:11.263 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:13:11.263 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:13:11.263 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:13:11.263 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:13:11.263 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:13:11.289 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 56.0646ms
2025-02-07 16:13:11.289 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:13:11.290 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:13:11.291 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:13:11.291 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 71.0328ms
2025-02-07 16:13:11.298 +01:00 [DBG] Hosting stopping
2025-02-07 16:13:11.298 +01:00 [DBG] Hosting stopping
2025-02-07 16:13:11.298 +01:00 [DBG] Hosting stopped
2025-02-07 16:13:11.298 +01:00 [DBG] Hosting stopped
2025-02-07 16:15:10.197 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:15:10.318 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:15:10.543 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:15:10.554 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:15:10.655 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:15:10.695 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:10.710 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:10.811 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:10.877 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:15:10.935 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (58ms).
2025-02-07 16:15:10.970 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:15:11.044 +01:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:15:11.078 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.080 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.116 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:15:11.116 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:15:11.116 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.117 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.151 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:15:11.157 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:15:11.207 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.207 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.207 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.207 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.208 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:15:11.208 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:15:11.208 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:15:11.208 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:15:11.253 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.253 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.253 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:15:11.253 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:15:11.253 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.253 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.253 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:15:11.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:15:11.254 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.254 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.259 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:11.303 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (43ms).
2025-02-07 16:15:11.303 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.304 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.304 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:15:11.309 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:15:11.360 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:11.409 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.409 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.414 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:15:11.440 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:15:11.447 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:15:11.557 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:15:11.589 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:15:11.692 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:15:11.720 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:11.743 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (22ms).
2025-02-07 16:15:11.743 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.743 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.743 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:15:11.746 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:15:11.797 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:11.797 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.797 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.797 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:15:11.798 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:15:11.852 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:11.852 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:15:11.852 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.852 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.852 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:15:11.854 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:15:11.906 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:11.906 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.906 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.906 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:15:11.907 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:15:11.975 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:11.975 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:15:11.975 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:11.975 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:12.022 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:15:12.024 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:15:12.024 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:12.024 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:12.025 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:12.081 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:15:12.081 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:15:12.177 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:15:12.190 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:15:12.228 +01:00 [DBG] Hosting starting
2025-02-07 16:15:12.245 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:15:12.251 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:15:12.251 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:15:12.253 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:15:12.269 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:15:12.269 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:15:12.272 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:15:12.311 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:15:12.311 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:15:12.312 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:15:12.364 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:15:12.364 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:15:12.365 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:15:12.418 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:15:12.431 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:15:12.485 +01:00 [DBG] Hosting started
2025-02-07 16:15:12.502 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:15:12.573 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:15:12.584 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:15:12.669 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:15:12.669 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:15:12.677 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:15:12.747 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:15:12.824 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:15:12.888 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:15:12.890 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:15:12.892 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:15:12.962 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 461.0732ms
2025-02-07 16:15:13.180 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:15:13.250 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:15:13.330 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:15:13.388 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:13.468 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (79ms).
2025-02-07 16:15:13.471 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:13.568 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:13.569 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:15:13.623 +01:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:15:13.663 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:13.711 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:13.765 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:13.765 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:13.767 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:15:13.822 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:15:13.877 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:15:13.877 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:15:13.877 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:15:13.878 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:15:13.923 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:15:13.943 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:15:13.973 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:15:13.974 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:15:14.042 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:15:14.042 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 220.2136ms
2025-02-07 16:15:14.042 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:15:14.164 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:15:14.189 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:14.243 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (53ms).
2025-02-07 16:15:14.243 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.243 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.243 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:15:14.244 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:15:14.290 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.290 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:14.290 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.290 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.290 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:15:14.291 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:15:14.338 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:15:14.338 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:15:14.338 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:15:14.338 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:15:14.339 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:15:14.340 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:15:14.387 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:15:14.388 +01:00 [DBG] Authorization was successful.
2025-02-07 16:15:14.388 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:15:14.388 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:15:14.389 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:15:14.397 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:15:14.450 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:15:14.450 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:15:14.451 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:15:14.525 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:15:14.525 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:15:14.526 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:15:14.527 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:15:14.573 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:15:14.632 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:15:14.635 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:15:14.677 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:15:14.678 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:15:14.678 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.678 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.722 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:15:14.724 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:15:14.792 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.854 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.892 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.892 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.893 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.893 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.893 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.893 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:15:14.893 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:15:14.893 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.893 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:15:14.894 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:15:14.968 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:15:15.012 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:15:15.012 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:15:15.012 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:15:15.013 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:15:15.013 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:15:15.105 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 577.7277ms
2025-02-07 16:15:15.122 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:15:15.123 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:15:15.123 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:15:15.165 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 874.0681ms
2025-02-07 16:15:15.171 +01:00 [DBG] Hosting stopping
2025-02-07 16:15:15.231 +01:00 [DBG] Hosting stopping
2025-02-07 16:15:15.231 +01:00 [DBG] Hosting stopped
2025-02-07 16:15:15.231 +01:00 [DBG] Hosting stopped
2025-02-07 16:19:45.930 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:19:45.991 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:19:46.155 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:19:46.156 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:19:46.255 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:19:46.267 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.269 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.372 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.375 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:19:46.378 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 16:19:46.382 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:19:46.392 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:19:46.393 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.395 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.396 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:19:46.396 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:19:46.396 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.397 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.397 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:19:46.403 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:19:46.403 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.403 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:19:46.404 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:19:46.404 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:19:46.404 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:19:46.404 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:19:46.404 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:19:46.404 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.404 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:19:46.405 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:19:46.405 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.405 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.410 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:46.410 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:46.410 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.410 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.410 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:19:46.414 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:19:46.415 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:46.415 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.415 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.420 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:19:46.420 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:19:46.427 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:19:46.435 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:19:46.446 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:19:46.504 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:19:46.515 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:46.516 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:46.516 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.516 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.516 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:19:46.518 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:19:46.519 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:46.519 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.519 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.519 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:19:46.521 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:19:46.521 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:46.521 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:46.521 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.521 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.521 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:19:46.523 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:19:46.523 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:46.523 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.523 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.523 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:19:46.524 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:19:46.524 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:46.524 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:46.524 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.524 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.524 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:19:46.525 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:19:46.525 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:46.525 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.525 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.525 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:19:46.526 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:19:46.526 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:19:46.539 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:19:46.564 +01:00 [DBG] Hosting starting
2025-02-07 16:19:46.571 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:19:46.571 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:19:46.571 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:19:46.573 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:19:46.574 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:19:46.574 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:19:46.577 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:19:46.578 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:19:46.578 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:19:46.579 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:19:46.579 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:19:46.579 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:19:46.580 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:19:46.580 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:19:46.591 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:19:46.591 +01:00 [DBG] Hosting started
2025-02-07 16:19:46.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:19:46.608 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:19:46.619 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:19:46.619 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:19:46.619 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:19:46.626 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:19:46.630 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:19:46.638 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:19:46.639 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:19:46.640 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:19:46.642 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:19:46.645 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 38.6522ms
2025-02-07 16:19:46.848 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:19:46.850 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:19:46.864 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:19:46.871 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:46.872 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:46.874 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.875 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:46.876 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:19:47.013 +01:00 [INF] Executed DbCommand (138ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:19:47.023 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.040 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:47.040 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.041 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.042 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:19:47.056 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:19:47.057 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:19:47.057 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:19:47.057 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:19:47.058 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:19:47.058 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:19:47.077 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:19:47.078 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:19:47.078 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:19:47.079 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:19:47.079 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 23.0585ms
2025-02-07 16:19:47.079 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:19:47.198 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:19:47.200 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:47.200 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:47.200 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.200 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.200 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:19:47.201 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:19:47.201 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.201 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:47.201 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.201 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.202 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:19:47.202 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:19:47.202 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:19:47.202 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:19:47.202 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:19:47.203 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:19:47.203 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:19:47.204 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:19:47.204 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:19:47.204 +01:00 [DBG] Authorization was successful.
2025-02-07 16:19:47.204 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:19:47.205 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:19:47.205 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:19:47.213 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:19:47.213 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:19:47.214 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:19:47.214 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:19:47.214 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:19:47.214 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:19:47.215 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:19:47.215 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:19:47.216 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:19:47.216 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:19:47.219 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:19:47.219 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:19:47.219 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:19:47.219 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.219 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.220 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:19:47.221 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:19:47.223 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:19:47.243 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:19:47.243 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.243 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:19:47.244 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:19:47.245 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:19:47.246 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:19:47.246 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:19:47.246 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:19:47.246 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:19:47.246 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:19:47.274 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 58.0011ms
2025-02-07 16:19:47.274 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:19:47.275 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:19:47.275 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:19:47.276 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 73.3653ms
2025-02-07 16:19:47.282 +01:00 [DBG] Hosting stopping
2025-02-07 16:19:47.282 +01:00 [DBG] Hosting stopping
2025-02-07 16:19:47.282 +01:00 [DBG] Hosting stopped
2025-02-07 16:19:47.282 +01:00 [DBG] Hosting stopped
2025-02-07 16:22:32.883 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:22:32.942 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:22:33.111 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:22:33.112 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:22:33.215 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:22:33.227 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.229 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.329 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.332 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:22:33.335 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:22:33.339 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:22:33.350 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:22:33.351 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.353 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.354 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:22:33.355 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:22:33.355 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.355 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.355 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:22:33.361 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:22:33.362 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.362 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.362 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.362 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.362 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:22:33.362 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:22:33.362 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:22:33.363 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:22:33.363 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.363 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.363 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:22:33.363 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:22:33.363 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.363 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.363 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:22:33.363 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:22:33.363 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.363 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.369 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:33.369 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:33.369 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.369 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.369 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:22:33.373 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:22:33.374 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:33.374 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.374 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.379 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:22:33.380 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:22:33.387 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:22:33.396 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:22:33.408 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:22:33.477 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:22:33.491 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:33.491 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:33.491 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.492 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.492 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:22:33.495 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:22:33.496 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:33.496 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.496 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.497 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:22:33.498 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:22:33.499 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:33.499 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:33.499 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.499 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.499 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:22:33.502 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:22:33.502 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:33.503 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.503 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.503 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:22:33.504 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:22:33.505 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:33.505 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:33.505 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.505 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.505 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:22:33.507 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:22:33.507 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:33.507 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.507 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.508 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:22:33.508 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:22:33.509 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:22:33.526 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:22:33.554 +01:00 [DBG] Hosting starting
2025-02-07 16:22:33.562 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:22:33.562 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:22:33.563 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:22:33.564 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:22:33.566 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:22:33.566 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:22:33.569 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:22:33.570 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:22:33.571 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:22:33.571 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:22:33.572 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:22:33.572 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:22:33.573 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:22:33.573 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:22:33.586 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:22:33.586 +01:00 [DBG] Hosting started
2025-02-07 16:22:33.604 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:22:33.605 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:22:33.616 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:22:33.617 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:22:33.617 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:22:33.625 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:22:33.629 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:22:33.639 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:22:33.639 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:22:33.641 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:22:33.644 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:22:33.648 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 44.3281ms
2025-02-07 16:22:33.865 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:22:33.868 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:22:33.883 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:22:33.891 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:33.891 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:33.893 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.894 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.895 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:22:33.907 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:22:33.917 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:33.934 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:33.935 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.935 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:33.937 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:22:33.950 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:22:33.951 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:22:33.951 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:22:33.951 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:22:33.952 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:22:33.953 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:22:33.971 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:22:33.973 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:22:33.973 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:22:33.974 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:22:33.974 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 23.7406ms
2025-02-07 16:22:33.974 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:22:34.092 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:22:34.094 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:34.094 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:34.094 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.094 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.094 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:22:34.094 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:22:34.095 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.095 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:34.095 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.095 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.095 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:22:34.095 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:22:34.096 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:22:34.096 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:22:34.096 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:22:34.096 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:22:34.096 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:22:34.097 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:22:34.097 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:22:34.097 +01:00 [DBG] Authorization was successful.
2025-02-07 16:22:34.097 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:22:34.098 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:22:34.098 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:22:34.106 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:22:34.106 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:22:34.106 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:22:34.107 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:22:34.107 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:22:34.107 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:22:34.108 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:22:34.108 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:22:34.109 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:22:34.109 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:22:34.112 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:22:34.112 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:22:34.112 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:22:34.112 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.112 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.112 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:22:34.114 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:22:34.116 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:22:34.137 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:22:34.137 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.137 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:22:34.138 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:22:34.139 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:22:34.140 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:22:34.140 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:22:34.140 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:22:34.140 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:22:34.140 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:22:34.168 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 59.0895ms
2025-02-07 16:22:34.168 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:22:34.169 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:22:34.169 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:22:34.170 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 74.1557ms
2025-02-07 16:22:34.176 +01:00 [DBG] Hosting stopping
2025-02-07 16:22:34.176 +01:00 [DBG] Hosting stopping
2025-02-07 16:22:34.176 +01:00 [DBG] Hosting stopped
2025-02-07 16:22:34.176 +01:00 [DBG] Hosting stopped
2025-02-07 16:25:16.322 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:25:16.382 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:25:16.552 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:25:16.553 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:25:16.654 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:16.669 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.671 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.773 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.777 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:25:16.780 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:25:16.784 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:16.795 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:16.796 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.798 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.799 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:25:16.799 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:25:16.799 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.800 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.800 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:16.806 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:16.806 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.807 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.807 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.807 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.807 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:25:16.807 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:25:16.807 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:16.808 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:16.808 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.808 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.808 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:25:16.808 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:25:16.808 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.808 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.808 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:16.808 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:16.808 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.808 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.813 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:16.814 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:16.814 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.814 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.814 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:25:16.818 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:25:16.819 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:16.819 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.820 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.824 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:25:16.825 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:25:16.832 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:25:16.840 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:16.852 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:25:16.911 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:25:16.922 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:16.922 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:16.922 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.922 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.922 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:16.925 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:16.925 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:16.926 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.926 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.926 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:25:16.927 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:25:16.927 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:16.927 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:16.927 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.927 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.927 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:16.929 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:16.929 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:16.929 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.929 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.929 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:25:16.930 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:25:16.930 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:16.930 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:16.930 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.930 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.930 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:16.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:16.932 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:16.932 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.932 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:16.932 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:16.933 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:25:16.933 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:16.946 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:25:16.971 +01:00 [DBG] Hosting starting
2025-02-07 16:25:16.978 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:25:16.979 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:25:16.979 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:25:16.981 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:25:16.982 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:25:16.982 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:25:16.985 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:25:16.986 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:25:16.986 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:25:16.987 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:25:16.987 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:25:16.988 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:25:16.988 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:25:16.989 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:25:17.000 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:25:17.000 +01:00 [DBG] Hosting started
2025-02-07 16:25:17.017 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:25:17.018 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:25:17.028 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:25:17.028 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:25:17.029 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:17.036 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:17.040 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:25:17.049 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:25:17.050 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:25:17.051 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:25:17.053 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:25:17.057 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 40.4111ms
2025-02-07 16:25:17.262 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:17.264 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:25:17.278 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:25:17.285 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:17.285 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:17.287 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.288 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.289 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:17.300 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:17.310 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.326 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:17.327 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.327 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.329 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:25:17.343 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:25:17.343 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:25:17.344 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:25:17.344 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:17.344 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:17.345 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:25:17.364 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:25:17.365 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:25:17.366 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:25:17.366 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:25:17.366 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 23.8756ms
2025-02-07 16:25:17.367 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:17.485 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:17.487 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:17.487 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:17.487 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.487 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.487 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:17.487 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:17.488 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.488 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:17.488 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.488 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.488 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:25:17.489 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:25:17.489 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:25:17.489 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:25:17.489 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:17.489 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:17.489 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:25:17.490 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:25:17.490 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:25:17.491 +01:00 [DBG] Authorization was successful.
2025-02-07 16:25:17.491 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:17.491 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:25:17.491 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:17.499 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:25:17.500 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:25:17.500 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:25:17.501 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:25:17.501 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:25:17.501 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:25:17.501 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:25:17.502 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:25:17.503 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:17.503 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:25:17.506 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:25:17.506 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:17.506 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:17.506 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.506 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.506 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:25:17.507 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:25:17.509 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.530 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:17.531 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:17.531 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.531 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:17.531 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:25:17.533 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:25:17.533 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:25:17.533 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:25:17.533 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:25:17.534 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:25:17.534 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:25:17.561 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 58.6797ms
2025-02-07 16:25:17.561 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:17.562 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:17.563 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:17.563 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 74.2275ms
2025-02-07 16:25:17.569 +01:00 [DBG] Hosting stopping
2025-02-07 16:25:17.569 +01:00 [DBG] Hosting stopping
2025-02-07 16:25:17.569 +01:00 [DBG] Hosting stopped
2025-02-07 16:25:17.569 +01:00 [DBG] Hosting stopped
2025-02-07 16:25:55.213 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:25:55.272 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:25:55.442 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:25:55.443 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:25:55.547 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:55.558 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.561 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.664 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.667 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:25:55.670 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:25:55.675 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:55.686 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:55.687 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.689 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.690 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:25:55.690 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:25:55.690 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.691 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.691 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:55.698 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:55.698 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.698 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.698 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.698 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.698 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:25:55.698 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:25:55.698 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:55.699 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:25:55.699 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.699 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.699 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:25:55.699 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:25:55.699 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.699 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.699 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:55.699 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:25:55.699 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.699 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.705 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:55.705 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:55.705 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.705 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.705 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:25:55.710 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:25:55.711 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:55.711 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.711 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.716 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:25:55.716 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:25:55.724 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:25:55.732 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:55.744 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:25:55.802 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:25:55.813 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:55.813 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:55.813 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.813 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.813 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:55.816 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:55.816 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:55.816 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.816 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.817 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:25:55.818 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:25:55.818 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:55.818 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:55.819 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.819 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.819 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:55.820 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:55.821 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:55.821 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.821 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.821 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:25:55.822 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:25:55.822 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:55.822 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:55.822 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.822 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.822 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:55.823 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:25:55.823 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:55.823 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.823 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:55.824 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:55.824 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:25:55.824 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:55.838 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:25:55.863 +01:00 [DBG] Hosting starting
2025-02-07 16:25:55.870 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:25:55.871 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:25:55.871 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:25:55.873 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:25:55.874 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:25:55.874 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:25:55.877 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:25:55.878 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:25:55.878 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:25:55.879 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:25:55.879 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:25:55.879 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:25:55.880 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:25:55.880 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:25:55.892 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:25:55.892 +01:00 [DBG] Hosting started
2025-02-07 16:25:55.909 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:25:55.910 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:25:55.921 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:25:55.921 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:25:55.921 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:55.929 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:55.932 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:25:55.941 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:25:55.941 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:25:55.943 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:25:55.945 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:25:55.948 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 40.1164ms
2025-02-07 16:25:56.154 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:56.156 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:25:56.170 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:25:56.177 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:56.177 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:56.179 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.180 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.181 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:56.196 +01:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:56.206 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.222 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:56.223 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.223 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.224 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:25:56.237 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:25:56.238 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:25:56.238 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:25:56.238 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:56.239 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:56.239 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:25:56.257 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:25:56.258 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:25:56.259 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:25:56.259 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:25:56.260 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 22.3802ms
2025-02-07 16:25:56.260 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:56.377 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:56.379 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:56.379 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:56.379 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.379 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.379 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:56.379 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:25:56.380 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.380 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:56.380 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.380 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.380 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:25:56.380 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:25:56.380 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:25:56.381 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:25:56.381 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:56.381 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:56.381 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:25:56.382 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:25:56.382 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:25:56.382 +01:00 [DBG] Authorization was successful.
2025-02-07 16:25:56.382 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:25:56.383 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:25:56.383 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:56.392 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:25:56.392 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:25:56.392 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:25:56.393 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:25:56.393 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:25:56.393 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:25:56.393 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:25:56.394 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:25:56.395 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:25:56.395 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:25:56.397 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:25:56.398 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:25:56.398 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:25:56.398 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.398 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.398 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:25:56.399 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:25:56.401 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:25:56.422 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:25:56.422 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.422 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:25:56.423 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:25:56.424 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:25:56.425 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:25:56.425 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:25:56.425 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:25:56.425 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:25:56.426 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:25:56.453 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 57.881ms
2025-02-07 16:25:56.453 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:25:56.454 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:56.455 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:25:56.455 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 74.444ms
2025-02-07 16:25:56.461 +01:00 [DBG] Hosting stopping
2025-02-07 16:25:56.461 +01:00 [DBG] Hosting stopping
2025-02-07 16:25:56.461 +01:00 [DBG] Hosting stopped
2025-02-07 16:25:56.461 +01:00 [DBG] Hosting stopped
2025-02-07 16:28:58.404 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:28:58.462 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:28:58.629 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:28:58.630 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:28:58.730 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:28:58.742 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.744 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.847 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.851 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:28:58.853 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:28:58.858 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:28:58.869 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:28:58.869 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.871 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.873 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:28:58.873 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:28:58.873 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.873 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.874 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:28:58.880 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:28:58.880 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.880 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.881 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.881 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.881 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:28:58.881 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:28:58.881 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:28:58.881 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:28:58.881 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.881 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.882 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:28:58.882 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:28:58.882 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.882 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.882 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:28:58.882 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:28:58.882 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.882 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.888 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:58.888 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:58.888 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.888 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.888 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:28:58.892 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:28:58.894 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:58.894 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.894 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.899 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:28:58.899 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:28:58.907 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:28:58.915 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:28:58.927 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:28:58.988 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:28:58.999 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:58.999 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:58.999 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.999 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:58.999 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:28:59.002 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:28:59.003 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:59.003 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.003 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.003 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:28:59.004 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:28:59.004 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:59.004 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:59.004 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.004 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.004 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:28:59.006 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:28:59.006 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:59.006 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.006 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.007 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:28:59.008 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:28:59.008 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:59.008 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:59.008 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.008 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.008 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:28:59.009 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:28:59.009 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:59.009 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.009 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.009 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:28:59.010 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:28:59.010 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:28:59.023 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:28:59.048 +01:00 [DBG] Hosting starting
2025-02-07 16:28:59.056 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:28:59.056 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:28:59.056 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:28:59.058 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:28:59.059 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:28:59.059 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:28:59.062 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:28:59.063 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:28:59.063 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:28:59.064 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:28:59.064 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:28:59.065 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:28:59.065 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:28:59.065 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:28:59.077 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:28:59.077 +01:00 [DBG] Hosting started
2025-02-07 16:28:59.094 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:28:59.095 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:28:59.105 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:28:59.105 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:28:59.106 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:28:59.113 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:28:59.117 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:28:59.126 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:28:59.126 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:28:59.128 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:28:59.129 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:28:59.136 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 43.1532ms
2025-02-07 16:28:59.342 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:28:59.345 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:28:59.359 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:28:59.366 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:59.366 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:59.368 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.369 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.370 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:28:59.381 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:28:59.391 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.407 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:59.407 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.408 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.409 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:28:59.422 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:28:59.423 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:28:59.423 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:28:59.423 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:28:59.424 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:28:59.425 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:28:59.442 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:28:59.443 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:28:59.444 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:28:59.444 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:28:59.444 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 22.1649ms
2025-02-07 16:28:59.445 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:28:59.562 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:28:59.564 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:59.564 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:59.564 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.564 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.564 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:28:59.565 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:28:59.565 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.565 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:59.565 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.565 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.565 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:28:59.566 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:28:59.566 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:28:59.566 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:28:59.566 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:28:59.566 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:28:59.567 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:28:59.568 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:28:59.568 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:28:59.568 +01:00 [DBG] Authorization was successful.
2025-02-07 16:28:59.568 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:28:59.568 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:28:59.569 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:28:59.577 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:28:59.577 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:28:59.577 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:28:59.578 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:28:59.578 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:28:59.578 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:28:59.579 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:28:59.579 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:28:59.580 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:28:59.580 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:28:59.583 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:28:59.583 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:28:59.583 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:28:59.583 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.583 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.583 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:28:59.585 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:28:59.587 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:28:59.607 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:28:59.607 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.607 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:28:59.608 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:28:59.609 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:28:59.610 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:28:59.610 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:28:59.610 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:28:59.610 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:28:59.610 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:28:59.638 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 58.287ms
2025-02-07 16:28:59.638 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:28:59.639 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:28:59.640 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:28:59.640 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 73.7728ms
2025-02-07 16:28:59.646 +01:00 [DBG] Hosting stopping
2025-02-07 16:28:59.647 +01:00 [DBG] Hosting stopping
2025-02-07 16:28:59.647 +01:00 [DBG] Hosting stopped
2025-02-07 16:28:59.647 +01:00 [DBG] Hosting stopped
2025-02-07 16:30:07.773 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:30:07.831 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:30:07.999 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:30:07.999 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:30:08.101 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:30:08.113 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.115 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.218 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.221 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:30:08.224 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:30:08.229 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:30:08.240 +01:00 [INF] Executed DbCommand (11ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:30:08.241 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.243 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.244 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:30:08.244 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:30:08.244 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.245 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.245 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:30:08.252 +01:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:30:08.252 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.252 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.252 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.252 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.253 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:30:08.253 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:30:08.253 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:30:08.253 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:30:08.253 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.253 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.253 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:30:08.253 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:30:08.253 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.253 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.253 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:30:08.254 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:30:08.254 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.254 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.259 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.259 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.259 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.259 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.259 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:30:08.264 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:30:08.265 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.265 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.265 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.270 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:30:08.270 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:30:08.277 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:30:08.285 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:30:08.297 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:30:08.355 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:30:08.366 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.366 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.366 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.366 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.366 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:30:08.369 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:30:08.370 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.370 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.370 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.370 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:30:08.372 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:30:08.372 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.372 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.372 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.372 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.372 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:30:08.374 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:30:08.374 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.374 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.374 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.374 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:30:08.375 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:30:08.375 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.375 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.375 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.375 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.375 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:30:08.376 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:30:08.376 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.376 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.376 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.377 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:30:08.377 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:30:08.377 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:30:08.392 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:30:08.416 +01:00 [DBG] Hosting starting
2025-02-07 16:30:08.424 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:30:08.424 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:30:08.424 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:30:08.426 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:30:08.427 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:30:08.427 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:30:08.430 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:30:08.431 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:30:08.431 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:30:08.432 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:30:08.432 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:30:08.432 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:30:08.433 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:30:08.433 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:30:08.444 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:30:08.444 +01:00 [DBG] Hosting started
2025-02-07 16:30:08.461 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:30:08.462 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:30:08.472 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:30:08.473 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:30:08.473 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:30:08.480 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:30:08.484 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:30:08.493 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:30:08.493 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:30:08.495 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:30:08.497 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:30:08.500 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 39.8415ms
2025-02-07 16:30:08.703 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:30:08.706 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:30:08.720 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:30:08.727 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.727 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.729 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.730 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.731 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:30:08.746 +01:00 [INF] Executed DbCommand (16ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:30:08.756 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.773 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.774 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.774 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.775 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:30:08.789 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:30:08.790 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:30:08.790 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:30:08.790 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:30:08.790 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:30:08.791 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:30:08.809 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:30:08.810 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:30:08.811 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:30:08.812 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:30:08.812 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 23.2295ms
2025-02-07 16:30:08.812 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:30:08.929 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:30:08.931 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.931 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.931 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.931 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.931 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:30:08.932 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:30:08.932 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.932 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.932 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.932 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.932 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:30:08.933 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:30:08.933 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:30:08.933 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:30:08.933 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:30:08.933 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:30:08.933 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:30:08.934 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:30:08.934 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:30:08.935 +01:00 [DBG] Authorization was successful.
2025-02-07 16:30:08.935 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:30:08.935 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:30:08.935 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:30:08.943 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:30:08.944 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:30:08.944 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:30:08.944 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:30:08.945 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:30:08.945 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:30:08.945 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:30:08.946 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:30:08.947 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:30:08.947 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:30:08.949 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:30:08.950 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:30:08.950 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:30:08.950 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.950 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.950 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:30:08.951 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:30:08.953 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.973 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.973 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.974 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.974 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.974 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.974 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.974 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:30:08.974 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:30:08.974 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.974 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:30:08.974 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:30:08.976 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:30:08.976 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:30:08.976 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:30:08.976 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:30:08.977 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:30:08.977 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:30:09.003 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 56.9591ms
2025-02-07 16:30:09.003 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:30:09.005 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:30:09.005 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:30:09.005 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 72.3347ms
2025-02-07 16:30:09.011 +01:00 [DBG] Hosting stopping
2025-02-07 16:30:09.011 +01:00 [DBG] Hosting stopping
2025-02-07 16:30:09.011 +01:00 [DBG] Hosting stopped
2025-02-07 16:30:09.012 +01:00 [DBG] Hosting stopped
2025-02-07 16:34:11.226 +01:00 [INF] Attempting to migrate database...
2025-02-07 16:34:11.286 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 16:34:11.458 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 16:34:11.458 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 16:34:11.565 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:34:11.577 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.580 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.683 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.686 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:34:11.689 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-02-07 16:34:11.694 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:34:11.705 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:34:11.705 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.707 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.709 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:34:11.709 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:34:11.709 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.709 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.709 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:34:11.716 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:34:11.716 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.716 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.716 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.716 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.716 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 16:34:11.716 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 16:34:11.717 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:34:11.717 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 16:34:11.717 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.717 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.717 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 16:34:11.717 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 16:34:11.717 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.717 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.717 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:34:11.717 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 16:34:11.718 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.718 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.723 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:11.723 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:11.723 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.723 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.723 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:34:11.728 +01:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 16:34:11.729 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:11.729 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.729 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.734 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 16:34:11.734 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 16:34:11.742 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 16:34:11.750 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:34:11.762 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 16:34:11.832 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:34:11.846 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:11.846 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:11.846 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.847 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.847 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:34:11.849 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:34:11.850 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:11.850 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.851 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.851 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 16:34:11.852 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:34:11.853 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:11.853 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:11.853 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.853 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.853 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:34:11.855 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:34:11.855 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:11.855 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.855 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.855 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 16:34:11.856 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 16:34:11.856 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:11.856 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:11.856 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.856 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.856 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:34:11.858 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 16:34:11.858 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:11.858 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.858 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:11.859 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:34:11.859 +01:00 [INF] Database seeding completed successfully.
2025-02-07 16:34:11.859 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:34:11.875 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 16:34:11.903 +01:00 [DBG] Hosting starting
2025-02-07 16:34:11.911 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 16:34:11.912 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 16:34:11.912 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 16:34:11.914 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 16:34:11.915 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 16:34:11.915 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 16:34:11.918 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 16:34:11.919 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:34:11.919 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 16:34:11.920 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 16:34:11.920 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 16:34:11.921 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 16:34:11.921 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 16:34:11.922 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 16:34:11.934 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 16:34:11.934 +01:00 [DBG] Hosting started
2025-02-07 16:34:11.951 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:34:11.952 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 16:34:11.962 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:34:11.963 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:34:11.963 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:34:11.971 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:34:11.974 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:34:11.985 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 16:34:11.986 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 16:34:11.988 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:34:11.990 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 16:34:11.994 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 44.2037ms
2025-02-07 16:34:12.218 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:34:12.221 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 16:34:12.235 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 16:34:12.243 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:12.243 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:12.246 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.247 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.248 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:34:12.260 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:34:12.271 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.289 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:12.290 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.290 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.292 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:34:12.306 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:34:12.307 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:34:12.307 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:34:12.307 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:34:12.308 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:34:12.309 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:34:12.327 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:34:12.328 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:34:12.329 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 16:34:12.329 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 16:34:12.329 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 23.5937ms
2025-02-07 16:34:12.330 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:34:12.447 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:34:12.448 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:12.449 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:12.449 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.449 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.449 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:34:12.449 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 16:34:12.450 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.450 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:12.450 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.450 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.450 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 16:34:12.451 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 16:34:12.451 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 16:34:12.451 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 16:34:12.451 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:34:12.451 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:34:12.451 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 16:34:12.452 +01:00 [DBG] Successfully validated the token.
2025-02-07 16:34:12.452 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 16:34:12.453 +01:00 [DBG] Authorization was successful.
2025-02-07 16:34:12.453 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 16:34:12.453 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 16:34:12.453 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:34:12.462 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 16:34:12.462 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 16:34:12.463 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 16:34:12.463 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 16:34:12.463 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 16:34:12.463 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 16:34:12.464 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:34:12.464 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 16:34:12.466 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 16:34:12.466 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 16:34:12.469 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 16:34:12.470 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 16:34:12.470 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 16:34:12.470 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.470 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.470 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:34:12.472 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 16:34:12.474 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.497 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 16:34:12.498 +01:00 [DBG] A data reader was disposed.
2025-02-07 16:34:12.498 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.498 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 16:34:12.498 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 16:34:12.500 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 16:34:12.501 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 16:34:12.501 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 16:34:12.501 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 16:34:12.501 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 16:34:12.501 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 16:34:12.530 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 64.4417ms
2025-02-07 16:34:12.530 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 16:34:12.531 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:34:12.532 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 16:34:12.532 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 81.5425ms
2025-02-07 16:34:12.540 +01:00 [DBG] Hosting stopping
2025-02-07 16:34:12.540 +01:00 [DBG] Hosting stopping
2025-02-07 16:34:12.540 +01:00 [DBG] Hosting stopped
2025-02-07 16:34:12.540 +01:00 [DBG] Hosting stopped
2025-02-07 18:11:41.337 +01:00 [INF] Attempting to migrate database...
2025-02-07 18:11:41.395 +01:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-02-07 18:11:41.558 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<int>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-02-07 18:11:41.559 +01:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<int>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-02-07 18:11:41.658 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 18:11:41.669 +01:00 [DBG] Migrating using database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.671 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.780 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.783 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 18:11:41.786 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-02-07 18:11:41.790 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 18:11:41.801 +01:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 18:11:41.802 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.804 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.805 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 18:11:41.805 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 18:11:41.805 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.806 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.806 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 18:11:41.812 +01:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 18:11:41.812 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.813 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.813 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.813 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.813 +01:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-02-07 18:11:41.813 +01:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-02-07 18:11:41.813 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 18:11:41.814 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-02-07 18:11:41.814 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.814 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.814 +01:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-02-07 18:11:41.814 +01:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-02-07 18:11:41.814 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.814 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.814 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 18:11:41.814 +01:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-02-07 18:11:41.814 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.814 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.819 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:41.820 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:41.820 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.820 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.820 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 18:11:41.824 +01:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-02-07 18:11:41.825 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:41.825 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.825 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.830 +01:00 [INF] No migrations were applied. The database is already up to date.
2025-02-07 18:11:41.830 +01:00 [INF] Database migration completed. Starting database seeding...
2025-02-07 18:11:41.837 +01:00 [INF] User profile is available. Using 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-02-07 18:11:41.845 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 18:11:41.856 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Any()'
2025-02-07 18:11:41.908 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 18:11:41.923 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:41.923 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:41.923 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.923 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.923 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 18:11:41.926 +01:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 18:11:41.927 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:41.927 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.927 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.927 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()
    .Any()'
2025-02-07 18:11:41.928 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Trades AS t)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 18:11:41.928 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:41.928 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:41.928 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.928 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.929 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 18:11:41.930 +01:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Trades] AS [t]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 18:11:41.930 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:41.930 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.930 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.931 +01:00 [DBG] Compiling query expression: 
'DbSet<Rating>()
    .Any()'
2025-02-07 18:11:41.932 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<bool>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Ratings AS r)), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, bool>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)
    .Single()'
2025-02-07 18:11:41.932 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:41.932 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:41.932 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.932 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.932 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 18:11:41.933 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Ratings] AS [r]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-02-07 18:11:41.933 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:41.933 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.933 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:41.934 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 18:11:41.934 +01:00 [INF] Database seeding completed successfully.
2025-02-07 18:11:41.934 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 18:11:41.947 +01:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-02-07 18:11:41.968 +01:00 [DBG] Hosting starting
2025-02-07 18:11:41.979 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-247b0a39-f609-48fc-b6b7-7a33f372eb2e.xml'.
2025-02-07 18:11:41.980 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-725444c4-37ef-4daf-931e-d4f9619f3a6a.xml'.
2025-02-07 18:11:41.980 +01:00 [DBG] Reading data from file 'C:\Users\jurad\AppData\Local\ASP.NET\DataProtection-Keys\key-db019ecf-993b-438c-a7c8-067794bbe92c.xml'.
2025-02-07 18:11:41.982 +01:00 [DBG] Found key {247b0a39-f609-48fc-b6b7-7a33f372eb2e}.
2025-02-07 18:11:41.983 +01:00 [DBG] Found key {725444c4-37ef-4daf-931e-d4f9619f3a6a}.
2025-02-07 18:11:41.983 +01:00 [DBG] Found key {db019ecf-993b-438c-a7c8-067794bbe92c}.
2025-02-07 18:11:41.986 +01:00 [DBG] Considering key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} with expiration date 2025-04-22 15:40:52Z as default key.
2025-02-07 18:11:41.987 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 18:11:41.987 +01:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-02-07 18:11:41.988 +01:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=6.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-02-07 18:11:41.989 +01:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-02-07 18:11:41.989 +01:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-02-07 18:11:41.989 +01:00 [DBG] Using key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} as the default key.
2025-02-07 18:11:41.990 +01:00 [DBG] Key ring with default key {247b0a39-f609-48fc-b6b7-7a33f372eb2e} was loaded during application startup.
2025-02-07 18:11:42.001 +01:00 [DBG] Loaded hosting startup assembly P7CreateRestApi
2025-02-07 18:11:42.001 +01:00 [DBG] Hosting started
2025-02-07 18:11:42.017 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 18:11:42.018 +01:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-02-07 18:11:42.028 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 18:11:42.028 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 18:11:42.029 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 18:11:42.036 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 18:11:42.040 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 18:11:42.048 +01:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-02-07 18:11:42.049 +01:00 [DBG] Policy authentication schemes Bearer did not succeed
2025-02-07 18:11:42.050 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 18:11:42.052 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-02-07 18:11:42.055 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 401 null null 39.1805ms
2025-02-07 18:11:42.256 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 18:11:42.259 +01:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-02-07 18:11:42.273 +01:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: new SingleQueryingEnumerable<User>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.SelectExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: User.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.AccessFailedCount (int) Required, 1], [Property: User.ConcurrencyStamp (string) Concurrency, 2], [Property: User.Email (string) MaxLength(256), 3], [Property: User.EmailConfirmed (bool) Required, 4], [Property: User.FullName (string) Required, 5], [Property: User.LockoutEnabled (bool) Required, 6], [Property: User.LockoutEnd (DateTimeOffset?), 7], [Property: User.NormalizedEmail (string) Index MaxLength(256), 8], [Property: User.NormalizedUserName (string) Index MaxLength(256), 9], [Property: User.Password (string) Required, 10], [Property: User.PasswordHash (string), 11], [Property: User.PhoneNumber (string), 12], [Property: User.PhoneNumberConfirmed (bool) Required, 13], [Property: User.Role (string) Required, 14], [Property: User.SecurityStamp (string), 15], [Property: User.TwoFactorEnabled (bool) Required, 16], [Property: User.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FullName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.Password, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.Role, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0), 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, User>, 
        Dot.Net.WebApi.Data.LocalDbContext, 
        False, 
        False, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2025-02-07 18:11:42.280 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:42.280 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:42.282 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.283 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.284 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 18:11:42.295 +01:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 18:11:42.305 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.322 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:42.323 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.323 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.325 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 18:11:42.338 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 18:11:42.339 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 18:11:42.339 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 18:11:42.339 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 18:11:42.340 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 18:11:42.340 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 18:11:42.358 +01:00 [DBG] Successfully validated the token.
2025-02-07 18:11:42.359 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 18:11:42.360 +01:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin|SuperRole)
2025-02-07 18:11:42.360 +01:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-02-07 18:11:42.360 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 403 null null 22.4029ms
2025-02-07 18:11:42.361 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 18:11:42.477 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 18:11:42.478 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:42.478 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:42.478 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.478 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.479 +01:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 18:11:42.479 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[Password], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[Role], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-02-07 18:11:42.479 +01:00 [DBG] Context 'LocalDbContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.479 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:42.479 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.480 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.480 +01:00 [DBG] User validation failed: DuplicateUserName.
2025-02-07 18:11:42.480 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost/api/trade/list - null null
2025-02-07 18:11:42.480 +01:00 [DBG] 1 candidate(s) found for the request path '/api/trade/list'
2025-02-07 18:11:42.480 +01:00 [DBG] Endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)' with route pattern 'api/Trade/list' is valid for the request path '/api/trade/list'
2025-02-07 18:11:42.480 +01:00 [DBG] Request matched endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 18:11:42.480 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 18:11:42.481 +01:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-02-07 18:11:42.482 +01:00 [DBG] Successfully validated the token.
2025-02-07 18:11:42.482 +01:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-02-07 18:11:42.482 +01:00 [DBG] Authorization was successful.
2025-02-07 18:11:42.482 +01:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-02-07 18:11:42.482 +01:00 [WRN] Failed to determine the https port for redirect.
2025-02-07 18:11:42.483 +01:00 [INF] Executing endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 18:11:42.491 +01:00 [INF] Route matched with {action = "Home", controller = "Trade"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Home() on controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi).
2025-02-07 18:11:42.491 +01:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-02-07 18:11:42.491 +01:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-02-07 18:11:42.492 +01:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-02-07 18:11:42.492 +01:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-02-07 18:11:42.492 +01:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-02-07 18:11:42.492 +01:00 [DBG] Executing controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 18:11:42.493 +01:00 [DBG] Executed controller factory for controller Dot.Net.WebApi.Controllers.TradeController (P7CreateRestApi)
2025-02-07 18:11:42.494 +01:00 [INF] Entity Framework Core 6.0.16 initialized 'LocalDbContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:6.0.16' with options: None
2025-02-07 18:11:42.494 +01:00 [DBG] Compiling query expression: 
'DbSet<Trade>()'
2025-02-07 18:11:42.496 +01:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<Trade>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.SelectExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Trade.TradeId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Trade.Account (string) Required, 1], [Property: Trade.AccountType (string) Required, 2], [Property: Trade.Benchmark (string) Required, 3], [Property: Trade.Book (string) Required, 4], [Property: Trade.BuyPrice (double?), 5], [Property: Trade.BuyQuantity (double?), 6], [Property: Trade.CreationDate (DateTime?), 7], [Property: Trade.CreationName (string) Required, 8], [Property: Trade.DealName (string) Required, 9], [Property: Trade.DealType (string) Required, 10], [Property: Trade.RevisionDate (DateTime?), 11], [Property: Trade.RevisionName (string) Required, 12], [Property: Trade.SellPrice (double?), 13], [Property: Trade.SellQuantity (double?), 14], [Property: Trade.Side (string) Required, 15], [Property: Trade.SourceListId (string) Required, 16], [Property: Trade.TradeDate (DateTime?), 17], [Property: Trade.TradeSecurity (string) Required, 18], [Property: Trade.TradeStatus (string) Required, 19], [Property: Trade.Trader (string) Required, 20] }
        SELECT t.TradeId, t.Account, t.AccountType, t.Benchmark, t.Book, t.BuyPrice, t.BuyQuantity, t.CreationDate, t.CreationName, t.DealName, t.DealType, t.RevisionDate, t.RevisionName, t.SellPrice, t.SellQuantity, t.Side, t.SourceListId, t.TradeDate, t.TradeSecurity, t.TradeStatus, t.Trader
        FROM Trades AS t), 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Trade>, 
    Dot.Net.WebApi.Data.LocalDbContext, 
    False, 
    False, 
    True
)'
2025-02-07 18:11:42.496 +01:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-02-07 18:11:42.496 +01:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-02-07 18:11:42.496 +01:00 [DBG] Opening connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.496 +01:00 [DBG] Opened connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.497 +01:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 18:11:42.498 +01:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[TradeId], [t].[Account], [t].[AccountType], [t].[Benchmark], [t].[Book], [t].[BuyPrice], [t].[BuyQuantity], [t].[CreationDate], [t].[CreationName], [t].[DealName], [t].[DealType], [t].[RevisionDate], [t].[RevisionName], [t].[SellPrice], [t].[SellQuantity], [t].[Side], [t].[SourceListId], [t].[TradeDate], [t].[TradeSecurity], [t].[TradeStatus], [t].[Trader]
FROM [Trades] AS [t]
2025-02-07 18:11:42.500 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] Context 'LocalDbContext' started tracking 'Trade' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-02-07 18:11:42.520 +01:00 [DBG] A data reader was disposed.
2025-02-07 18:11:42.520 +01:00 [DBG] Closing connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.520 +01:00 [DBG] Closed connection to database 'Findexium' on server '.\SQLEXPRESS'.
2025-02-07 18:11:42.520 +01:00 [INF] L'utilisateur User2 a consulté la liste des trades.
2025-02-07 18:11:42.522 +01:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-02-07 18:11:42.522 +01:00 [DBG] No information found on request to perform content negotiation.
2025-02-07 18:11:42.522 +01:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-02-07 18:11:42.522 +01:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-02-07 18:11:42.523 +01:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-02-07 18:11:42.523 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Dot.Net.WebApi.Domain.Trade, P7CreateRestApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-02-07 18:11:42.549 +01:00 [INF] Executed action Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi) in 55.5326ms
2025-02-07 18:11:42.549 +01:00 [INF] Executed endpoint 'Dot.Net.WebApi.Controllers.TradeController.Home (P7CreateRestApi)'
2025-02-07 18:11:42.550 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 18:11:42.550 +01:00 [DBG] 'LocalDbContext' disposed.
2025-02-07 18:11:42.551 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost/api/trade/list - 200 null application/json; charset=utf-8 70.4413ms
2025-02-07 18:11:42.556 +01:00 [DBG] Hosting stopping
2025-02-07 18:11:42.557 +01:00 [DBG] Hosting stopping
2025-02-07 18:11:42.557 +01:00 [DBG] Hosting stopped
2025-02-07 18:11:42.557 +01:00 [DBG] Hosting stopped
